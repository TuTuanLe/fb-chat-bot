{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"filename\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _viewEngine = _interopRequireDefault(require(\"./config/viewEngine\"));\n\nvar _web = _interopRequireDefault(require(\"./routes/web\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nrequire(\"dotenv\").config();\n\nvar app = (0, _express[\"default\"])(); //config body-parser to post data\n\napp.use(_bodyParser[\"default\"].json());\napp.use(_bodyParser[\"default\"].urlencoded({\n  extended: true\n})); //config view engine\n\n(0, _viewEngine[\"default\"])(app); //init web routes\n\n(0, _web[\"default\"])(app);\nvar port = process.env.PORT || 8080;\napp.listen(port, function () {\n  console.log(\"Messenger tech shop is running at the port \".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiY29uZmlnVmlld0VuZ2luZSIsImluaXRXZWJSb3V0ZXMiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJEOlxcV29ya1xcSW5kaXZpZHVhbFxcZmItY2hhdC1ib3RcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGNvbmZpZ1ZpZXdFbmdpbmUgZnJvbSBcIi4vY29uZmlnL3ZpZXdFbmdpbmVcIjtcclxuaW1wb3J0IGluaXRXZWJSb3V0ZXMgZnJvbSBcIi4vcm91dGVzL3dlYlwiO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcclxuXHJcblxyXG5sZXQgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy9jb25maWcgYm9keS1wYXJzZXIgdG8gcG9zdCBkYXRhXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuXHJcbi8vY29uZmlnIHZpZXcgZW5naW5lXHJcbmNvbmZpZ1ZpZXdFbmdpbmUoYXBwKTtcclxuXHJcbi8vaW5pdCB3ZWIgcm91dGVzXHJcbmluaXRXZWJSb3V0ZXMoYXBwKTtcclxuXHJcbmxldCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA4MDgwO1xyXG5cclxuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhgTWVzc2VuZ2VyIHRlY2ggc2hvcCBpcyBydW5uaW5nIGF0IHRoZSBwb3J0ICR7cG9ydH1gKTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFPQSxJQUFJQyxHQUFHLEdBQUcsSUFBQUMsbUJBQUEsR0FBVixDLENBRUE7O0FBQ0FELEdBQUcsQ0FBQ0UsR0FBSixDQUFRQyxzQkFBQSxDQUFXQyxJQUFYLEVBQVI7QUFDQUosR0FBRyxDQUFDRSxHQUFKLENBQVFDLHNCQUFBLENBQVdFLFVBQVgsQ0FBc0I7RUFBRUMsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUixFLENBRUE7O0FBQ0EsSUFBQUMsc0JBQUEsRUFBaUJQLEdBQWpCLEUsQ0FFQTs7QUFDQSxJQUFBUSxlQUFBLEVBQWNSLEdBQWQ7QUFFQSxJQUFJUyxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQS9CO0FBRUFaLEdBQUcsQ0FBQ2EsTUFBSixDQUFXSixJQUFYLEVBQWlCLFlBQU07RUFDbkJLLE9BQU8sQ0FBQ0MsR0FBUixzREFBMEROLElBQTFEO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["require","config","app","express","use","bodyParser","json","urlencoded","extended","configViewEngine","initWebRoutes","port","process","env","PORT","listen","console","log"],"sourceRoot":"D:\\Work\\Individual\\fb-chat-bot\\src\\","sources":["server.js"],"sourcesContent":["require(\"dotenv\").config();\r\nimport express from \"express\";\r\nimport configViewEngine from \"./config/viewEngine\";\r\nimport initWebRoutes from \"./routes/web\";\r\nimport bodyParser from \"body-parser\";\r\n\r\n\r\nlet app = express();\r\n\r\n//config body-parser to post data\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\n\r\n//config view engine\r\nconfigViewEngine(app);\r\n\r\n//init web routes\r\ninitWebRoutes(app);\r\n\r\nlet port = process.env.PORT || 8080;\r\n\r\napp.listen(port, () => {\r\n    console.log(`Messenger tech shop is running at the port ${port}`);\r\n});\r\n"],"mappings":";;AACA;;AACA;;AACA;;AACA;;;;AAJAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAOA,IAAIC,GAAG,GAAG,IAAAC,mBAAA,GAAV,C,CAEA;;AACAD,GAAG,CAACE,GAAJ,CAAQC,sBAAA,CAAWC,IAAX,EAAR;AACAJ,GAAG,CAACE,GAAJ,CAAQC,sBAAA,CAAWE,UAAX,CAAsB;EAAEC,QAAQ,EAAE;AAAZ,CAAtB,CAAR,E,CAEA;;AACA,IAAAC,sBAAA,EAAiBP,GAAjB,E,CAEA;;AACA,IAAAQ,eAAA,EAAcR,GAAd;AAEA,IAAIS,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B;AAEAZ,GAAG,CAACa,MAAJ,CAAWJ,IAAX,EAAiB,YAAM;EACnBK,OAAO,CAACC,GAAR,sDAA0DN,IAA1D;AACH,CAFD"}},"mtime":1663686793211},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"filename\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\config\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*\r\nconfig view engine for app\r\n */\nvar configViewEngine = function configViewEngine(app) {\n  app.use(_express[\"default\"][\"static\"](\"./src/public\"));\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\n\nmodule.exports = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwidXNlIiwiZXhwcmVzcyIsInNldCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxXb3JrXFxJbmRpdmlkdWFsXFxmYi1jaGF0LWJvdFxcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsidmlld0VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5cclxuLypcclxuY29uZmlnIHZpZXcgZW5naW5lIGZvciBhcHBcclxuICovXHJcblxyXG5sZXQgY29uZmlnVmlld0VuZ2luZSA9IChhcHApID0+e1xyXG4gICAgYXBwLnVzZShleHByZXNzLnN0YXRpYyhcIi4vc3JjL3B1YmxpY1wiKSk7XHJcbiAgICBhcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJlanNcIik7XHJcbiAgICBhcHAuc2V0KFwidmlld3NcIixcIi4vc3JjL3ZpZXdzXCIpO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjb25maWdWaWV3RW5naW5lO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFFQSxJQUFJQSxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQW1CLENBQUNDLEdBQUQsRUFBUTtFQUMzQkEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG1CQUFBLFdBQWUsY0FBZixDQUFSO0VBQ0FGLEdBQUcsQ0FBQ0csR0FBSixDQUFRLGFBQVIsRUFBdUIsS0FBdkI7RUFDQUgsR0FBRyxDQUFDRyxHQUFKLENBQVEsT0FBUixFQUFnQixhQUFoQjtBQUNILENBSkQ7O0FBTUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sZ0JBQWpCIn0=","map":{"version":3,"names":["configViewEngine","app","use","express","set","module","exports"],"sourceRoot":"D:\\Work\\Individual\\fb-chat-bot\\src\\config\\","sources":["viewEngine.js"],"sourcesContent":["import express from \"express\";\r\n\r\n/*\r\nconfig view engine for app\r\n */\r\n\r\nlet configViewEngine = (app) =>{\r\n    app.use(express.static(\"./src/public\"));\r\n    app.set(\"view engine\", \"ejs\");\r\n    app.set(\"views\",\"./src/views\");\r\n};\r\n\r\nmodule.exports = configViewEngine;\r\n"],"mappings":";;AAAA;;;;AAEA;AACA;AACA;AAEA,IAAIA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAQ;EAC3BA,GAAG,CAACC,GAAJ,CAAQC,mBAAA,WAAe,cAAf,CAAR;EACAF,GAAG,CAACG,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;EACAH,GAAG,CAACG,GAAJ,CAAQ,OAAR,EAAgB,aAAhB;AACH,CAJD;;AAMAC,MAAM,CAACC,OAAP,GAAiBN,gBAAjB"}},"mtime":1663686793211},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"filename\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\routes\\\\web.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _homepageController = _interopRequireDefault(require(\"../controllers/homepageController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar initWebRoutes = function initWebRoutes(app) {\n  router.get(\"/\", _homepageController[\"default\"].getHomePage);\n  router.get(\"/webhook\", _homepageController[\"default\"].getWebhook);\n  router.post(\"/webhook\", _homepageController[\"default\"].postWebhook);\n  router.post(\"/set-up-profile\", _homepageController[\"default\"].handleSetupProfile);\n  router.get(\"/set-up-profile\", _homepageController[\"default\"].getSetupProfilePage);\n  router.get(\"/info-order\", _homepageController[\"default\"].getInfoOrderPage);\n  router.post(\"/set-info-order\", _homepageController[\"default\"].setInfoOrder);\n  return app.use(\"/\", router);\n};\n\nmodule.exports = initWebRoutes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiaW5pdFdlYlJvdXRlcyIsImFwcCIsImdldCIsImhvbWVwYWdlQ29udHJvbGxlciIsImdldEhvbWVQYWdlIiwiZ2V0V2ViaG9vayIsInBvc3QiLCJwb3N0V2ViaG9vayIsImhhbmRsZVNldHVwUHJvZmlsZSIsImdldFNldHVwUHJvZmlsZVBhZ2UiLCJnZXRJbmZvT3JkZXJQYWdlIiwic2V0SW5mb09yZGVyIiwidXNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFdvcmtcXEluZGl2aWR1YWxcXGZiLWNoYXQtYm90XFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ3ZWIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGhvbWVwYWdlQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvaG9tZXBhZ2VDb250cm9sbGVyXCI7XHJcblxyXG5sZXQgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmxldCBpbml0V2ViUm91dGVzID0gKGFwcCk9PiB7XHJcbiAgICByb3V0ZXIuZ2V0KFwiL1wiLCBob21lcGFnZUNvbnRyb2xsZXIuZ2V0SG9tZVBhZ2UpO1xyXG4gICAgcm91dGVyLmdldChcIi93ZWJob29rXCIsIGhvbWVwYWdlQ29udHJvbGxlci5nZXRXZWJob29rKTtcclxuICAgIHJvdXRlci5wb3N0KFwiL3dlYmhvb2tcIiwgaG9tZXBhZ2VDb250cm9sbGVyLnBvc3RXZWJob29rKTtcclxuICAgIHJvdXRlci5wb3N0KFwiL3NldC11cC1wcm9maWxlXCIsIGhvbWVwYWdlQ29udHJvbGxlci5oYW5kbGVTZXR1cFByb2ZpbGUpO1xyXG4gICAgcm91dGVyLmdldChcIi9zZXQtdXAtcHJvZmlsZVwiLCBob21lcGFnZUNvbnRyb2xsZXIuZ2V0U2V0dXBQcm9maWxlUGFnZSk7XHJcblxyXG4gICAgcm91dGVyLmdldChcIi9pbmZvLW9yZGVyXCIsIGhvbWVwYWdlQ29udHJvbGxlci5nZXRJbmZvT3JkZXJQYWdlKTtcclxuICAgIHJvdXRlci5wb3N0KFwiL3NldC1pbmZvLW9yZGVyXCIsIGhvbWVwYWdlQ29udHJvbGxlci5zZXRJbmZvT3JkZXIpO1xyXG4gICAgcmV0dXJuIGFwcC51c2UoXCIvXCIsIHJvdXRlcik7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGluaXRXZWJSb3V0ZXM7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUVBLElBQUlBLE1BQU0sR0FBR0MsbUJBQUEsQ0FBUUMsTUFBUixFQUFiOztBQUVBLElBQUlDLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsR0FBRCxFQUFRO0VBQ3hCSixNQUFNLENBQUNLLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyw4QkFBQSxDQUFtQkMsV0FBbkM7RUFDQVAsTUFBTSxDQUFDSyxHQUFQLENBQVcsVUFBWCxFQUF1QkMsOEJBQUEsQ0FBbUJFLFVBQTFDO0VBQ0FSLE1BQU0sQ0FBQ1MsSUFBUCxDQUFZLFVBQVosRUFBd0JILDhCQUFBLENBQW1CSSxXQUEzQztFQUNBVixNQUFNLENBQUNTLElBQVAsQ0FBWSxpQkFBWixFQUErQkgsOEJBQUEsQ0FBbUJLLGtCQUFsRDtFQUNBWCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxpQkFBWCxFQUE4QkMsOEJBQUEsQ0FBbUJNLG1CQUFqRDtFQUVBWixNQUFNLENBQUNLLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyw4QkFBQSxDQUFtQk8sZ0JBQTdDO0VBQ0FiLE1BQU0sQ0FBQ1MsSUFBUCxDQUFZLGlCQUFaLEVBQStCSCw4QkFBQSxDQUFtQlEsWUFBbEQ7RUFDQSxPQUFPVixHQUFHLENBQUNXLEdBQUosQ0FBUSxHQUFSLEVBQWFmLE1BQWIsQ0FBUDtBQUNILENBVkQ7O0FBWUFnQixNQUFNLENBQUNDLE9BQVAsR0FBaUJkLGFBQWpCIn0=","map":{"version":3,"names":["router","express","Router","initWebRoutes","app","get","homepageController","getHomePage","getWebhook","post","postWebhook","handleSetupProfile","getSetupProfilePage","getInfoOrderPage","setInfoOrder","use","module","exports"],"sourceRoot":"D:\\Work\\Individual\\fb-chat-bot\\src\\routes\\","sources":["web.js"],"sourcesContent":["import express from \"express\";\r\nimport homepageController from \"../controllers/homepageController\";\r\n\r\nlet router = express.Router();\r\n\r\nlet initWebRoutes = (app)=> {\r\n    router.get(\"/\", homepageController.getHomePage);\r\n    router.get(\"/webhook\", homepageController.getWebhook);\r\n    router.post(\"/webhook\", homepageController.postWebhook);\r\n    router.post(\"/set-up-profile\", homepageController.handleSetupProfile);\r\n    router.get(\"/set-up-profile\", homepageController.getSetupProfilePage);\r\n\r\n    router.get(\"/info-order\", homepageController.getInfoOrderPage);\r\n    router.post(\"/set-info-order\", homepageController.setInfoOrder);\r\n    return app.use(\"/\", router);\r\n};\r\n\r\nmodule.exports = initWebRoutes;\r\n"],"mappings":";;AAAA;;AACA;;;;AAEA,IAAIA,MAAM,GAAGC,mBAAA,CAAQC,MAAR,EAAb;;AAEA,IAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAQ;EACxBJ,MAAM,CAACK,GAAP,CAAW,GAAX,EAAgBC,8BAAA,CAAmBC,WAAnC;EACAP,MAAM,CAACK,GAAP,CAAW,UAAX,EAAuBC,8BAAA,CAAmBE,UAA1C;EACAR,MAAM,CAACS,IAAP,CAAY,UAAZ,EAAwBH,8BAAA,CAAmBI,WAA3C;EACAV,MAAM,CAACS,IAAP,CAAY,iBAAZ,EAA+BH,8BAAA,CAAmBK,kBAAlD;EACAX,MAAM,CAACK,GAAP,CAAW,iBAAX,EAA8BC,8BAAA,CAAmBM,mBAAjD;EAEAZ,MAAM,CAACK,GAAP,CAAW,aAAX,EAA0BC,8BAAA,CAAmBO,gBAA7C;EACAb,MAAM,CAACS,IAAP,CAAY,iBAAZ,EAA+BH,8BAAA,CAAmBQ,YAAlD;EACA,OAAOV,GAAG,CAACW,GAAJ,CAAQ,GAAR,EAAaf,MAAb,CAAP;AACH,CAVD;;AAYAgB,MAAM,CAACC,OAAP,GAAiBd,aAAjB"}},"mtime":1663686793211},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"filename\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\controllers\\\\homepageController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _homepageService = _interopRequireDefault(require(\"../services/homepageService\"));\n\nvar _chatbotService = _interopRequireDefault(require(\"../services/chatbotService\"));\n\nvar _templateMessage = _interopRequireDefault(require(\"../services/templateMessage\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nrequire(\"dotenv\").config();\n\nvar PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\nvar VERIFY_TOKEN = process.env.VERIFY_TOKEN;\n\nvar getHomePage = function getHomePage(req, res) {\n  var facebookAppId = process.env.FACEBOOK_APP_ID;\n  return res.render(\"homepage.ejs\", {\n    facebookAppId: facebookAppId\n  });\n};\n\nvar getWebhook = function getWebhook(req, res) {\n  // Your verify token. Should be a random string.\n  // Parse the query params\n  var mode = req.query['hub.mode'];\n  var token = req.query['hub.verify_token'];\n  var challenge = req.query['hub.challenge']; // Checks if a token and mode is in the query string of the request\n\n  if (mode && token) {\n    // Checks the mode and token sent is correct\n    if (mode === 'subscribe' && token === VERIFY_TOKEN) {\n      // Responds with the challenge token from the request\n      console.log('WEBHOOK_VERIFIED');\n      res.status(200).send(challenge);\n    } else {\n      // Responds with '403 Forbidden' if verify tokens do not match\n      res.sendStatus(403);\n    }\n  }\n};\n\nvar postWebhook = function postWebhook(req, res) {\n  var body = req.body; // Checks this is an event from a page subscription\n\n  if (body.object === 'page') {\n    // Iterates over each entry - there may be multiple if batched\n    body.entry.forEach(function (entry) {\n      //check the incoming message from primary app or not; if secondary app, exit\n      if (entry.standby) {\n        //if user's message is \"back\" or \"exit\", return the conversation to the bot\n        var webhook_standby = entry.standby[0];\n\n        if (webhook_standby && webhook_standby.message) {\n          if (webhook_standby.message.text === \"back\" || webhook_standby.message.text === \"exit\") {\n            // call function to return the conversation to the primary app\n            // chatbotService.passThreadControl(webhook_standby.sender.id, \"primary\");\n            _chatbotService[\"default\"].takeControlConversation(webhook_standby.sender.id);\n          }\n        }\n\n        return;\n      } //     // Gets the body of the webhook event\n\n\n      var webhook_event = entry.messaging[0];\n      console.log(webhook_event); // Get the sender PSID\n\n      var sender_psid = webhook_event.sender.id;\n      console.log(\"Sender_psid: \", sender_psid); // Check if the event is a message or postback and\n      // pass the event to the appropriate handler function\n\n      if (webhook_event.message) {\n        handleMessage(sender_psid, webhook_event.message);\n      } else if (webhook_event.postback) {\n        handlePostback(sender_psid, webhook_event.postback);\n      }\n    }); // Returns a '200 OK' response to all requests\n\n    res.status(200).send('EVENT_RECEIVED');\n  } else {\n    // Returns a '404 Not Found' if event is not from a page subscription\n    res.sendStatus(404);\n  }\n}; // Handles messages events\n\n\nvar handleMessage = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(sender_psid, received_message) {\n    var response, attachment_url, payload;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            //check the incoming message is a quick reply?\n            console.log(\"handle message Tutuanle\");\n\n            // Check if the message contains text\n            if (received_message.text) {\n              // Create the payload for a basic text message\n              response = {\n                \"text\": \"You sent the message: \\\"\".concat(received_message.text, \"\\\". Now send me an image!\")\n              };\n            } else if (received_message.attachments) {\n              // Get the URL of the message attachment\n              attachment_url = received_message.attachments[0].payload.url;\n              response = {\n                \"attachment\": {\n                  \"type\": \"template\",\n                  \"payload\": {\n                    \"template_type\": \"generic\",\n                    \"elements\": [{\n                      \"title\": \"Is this the right picture?\",\n                      \"subtitle\": \"Tap a button to answer.\",\n                      \"image_url\": attachment_url,\n                      \"buttons\": [{\n                        \"type\": \"postback\",\n                        \"title\": \"Yes!\",\n                        \"payload\": \"yes\"\n                      }, {\n                        \"type\": \"postback\",\n                        \"title\": \"No!\",\n                        \"payload\": \"no\"\n                      }]\n                    }]\n                  }\n                }\n              };\n            }\n\n            if (!(received_message && received_message.quick_reply && received_message.quick_reply.payload)) {\n              _context.next = 18;\n              break;\n            }\n\n            payload = received_message.quick_reply.payload;\n\n            if (!(payload === \"CATEGORIES\")) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 7;\n            return _chatbotService[\"default\"].sendCategories(sender_psid);\n\n          case 7:\n            _context.next = 17;\n            break;\n\n          case 9:\n            if (!(payload === \"LOOKUP_ORDER\")) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 12;\n            return _chatbotService[\"default\"].sendLookupOrder(sender_psid);\n\n          case 12:\n            _context.next = 17;\n            break;\n\n          case 14:\n            if (!(payload === \"TALK_AGENT\")) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 17;\n            return _chatbotService[\"default\"].requestTalkToAgent(sender_psid);\n\n          case 17:\n            return _context.abrupt(\"return\");\n\n          case 18:\n            _context.next = 20;\n            return _chatbotService[\"default\"].sendMessage(sender_psid, response);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function handleMessage(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}(); // Handles messaging_postbacks events\n\n\nvar handlePostback = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(sender_psid, received_postback) {\n    var payload;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // Get the payload for the postback\n            payload = received_postback.payload; // Set the response based on the postback payload\n\n            _context2.t0 = payload;\n            _context2.next = _context2.t0 === \"GET_STARTED\" ? 4 : _context2.t0 === \"RESTART_CONVERSATION\" ? 4 : _context2.t0 === \"TALK_AGENT\" ? 7 : _context2.t0 === \"SHOW_HEADPHONES\" ? 10 : _context2.t0 === \"SHOW_TV\" ? 13 : _context2.t0 === \"SHOW_PLAYSTATION\" ? 16 : _context2.t0 === \"BACK_TO_CATEGORIES\" ? 19 : _context2.t0 === \"BACK_TO_MAIN_MENU\" ? 22 : 25;\n            break;\n\n          case 4:\n            _context2.next = 6;\n            return _chatbotService[\"default\"].sendMessageWelcomeNewUser(sender_psid);\n\n          case 6:\n            return _context2.abrupt(\"break\", 26);\n\n          case 7:\n            _context2.next = 9;\n            return _chatbotService[\"default\"].requestTalkToAgent(sender_psid);\n\n          case 9:\n            return _context2.abrupt(\"break\", 26);\n\n          case 10:\n            _context2.next = 12;\n            return _chatbotService[\"default\"].showHeadphones(sender_psid);\n\n          case 12:\n            return _context2.abrupt(\"break\", 26);\n\n          case 13:\n            _context2.next = 15;\n            return _chatbotService[\"default\"].showTVs(sender_psid);\n\n          case 15:\n            return _context2.abrupt(\"break\", 26);\n\n          case 16:\n            _context2.next = 18;\n            return _chatbotService[\"default\"].showPlaystation(sender_psid);\n\n          case 18:\n            return _context2.abrupt(\"break\", 26);\n\n          case 19:\n            _context2.next = 21;\n            return _chatbotService[\"default\"].backToCategories(sender_psid);\n\n          case 21:\n            return _context2.abrupt(\"break\", 26);\n\n          case 22:\n            _context2.next = 24;\n            return _chatbotService[\"default\"].backToMainMenu(sender_psid);\n\n          case 24:\n            return _context2.abrupt(\"break\", 26);\n\n          case 25:\n            console.log(\"run default switch case\");\n\n          case 26:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function handlePostback(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar handleSetupProfile = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _homepageService[\"default\"].handleSetupProfileAPI();\n\n          case 3:\n            return _context3.abrupt(\"return\", res.redirect(\"/\"));\n\n          case 6:\n            _context3.prev = 6;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 6]]);\n  }));\n\n  return function handleSetupProfile(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar getSetupProfilePage = function getSetupProfilePage(req, res) {\n  return res.render(\"profile.ejs\");\n};\n\nvar getInfoOrderPage = function getInfoOrderPage(req, res) {\n  var facebookAppId = process.env.FACEBOOK_APP_ID;\n  return res.render(\"infoOrder.ejs\", {\n    facebookAppId: facebookAppId\n  });\n};\n\nvar setInfoOrder = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var customerName, response1, response2;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            customerName = \"\";\n\n            if (req.body.customerName === \"\") {\n              customerName = \"Empty\";\n            } else customerName = req.body.customerName; // I demo response with sample text\n            // you can check database for customer order's status\n\n\n            response1 = {\n              \"text\": \"---Info about your lookup order---\\n            \\nCustomer name: \".concat(customerName, \"\\n            \\nEmail address: \").concat(req.body.email, \"\\n            \\nOrder number: \").concat(req.body.orderNumber, \"\\n            \")\n            };\n            response2 = _templateMessage[\"default\"].setInfoOrderTemplate();\n            _context4.next = 7;\n            return _chatbotService[\"default\"].sendMessage(req.body.psid, response1);\n\n          case 7:\n            _context4.next = 9;\n            return _chatbotService[\"default\"].sendMessage(req.body.psid, response2);\n\n          case 9:\n            return _context4.abrupt(\"return\", res.status(200).json({\n              message: \"ok\"\n            }));\n\n          case 12:\n            _context4.prev = 12;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.log(_context4.t0);\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 12]]);\n  }));\n\n  return function setInfoOrder(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  getHomePage: getHomePage,\n  getWebhook: getWebhook,\n  postWebhook: postWebhook,\n  handleSetupProfile: handleSetupProfile,\n  getSetupProfilePage: getSetupProfilePage,\n  getInfoOrderPage: getInfoOrderPage,\n  setInfoOrder: setInfoOrder\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiUEFHRV9BQ0NFU1NfVE9LRU4iLCJwcm9jZXNzIiwiZW52IiwiVkVSSUZZX1RPS0VOIiwiZ2V0SG9tZVBhZ2UiLCJyZXEiLCJyZXMiLCJmYWNlYm9va0FwcElkIiwiRkFDRUJPT0tfQVBQX0lEIiwicmVuZGVyIiwiZ2V0V2ViaG9vayIsIm1vZGUiLCJxdWVyeSIsInRva2VuIiwiY2hhbGxlbmdlIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsInNlbmQiLCJzZW5kU3RhdHVzIiwicG9zdFdlYmhvb2siLCJib2R5Iiwib2JqZWN0IiwiZW50cnkiLCJmb3JFYWNoIiwic3RhbmRieSIsIndlYmhvb2tfc3RhbmRieSIsIm1lc3NhZ2UiLCJ0ZXh0IiwiY2hhdGJvdFNlcnZpY2UiLCJ0YWtlQ29udHJvbENvbnZlcnNhdGlvbiIsInNlbmRlciIsImlkIiwid2ViaG9va19ldmVudCIsIm1lc3NhZ2luZyIsInNlbmRlcl9wc2lkIiwiaGFuZGxlTWVzc2FnZSIsInBvc3RiYWNrIiwiaGFuZGxlUG9zdGJhY2siLCJyZWNlaXZlZF9tZXNzYWdlIiwicmVzcG9uc2UiLCJhdHRhY2htZW50cyIsImF0dGFjaG1lbnRfdXJsIiwicGF5bG9hZCIsInVybCIsInF1aWNrX3JlcGx5Iiwic2VuZENhdGVnb3JpZXMiLCJzZW5kTG9va3VwT3JkZXIiLCJyZXF1ZXN0VGFsa1RvQWdlbnQiLCJzZW5kTWVzc2FnZSIsInJlY2VpdmVkX3Bvc3RiYWNrIiwic2VuZE1lc3NhZ2VXZWxjb21lTmV3VXNlciIsInNob3dIZWFkcGhvbmVzIiwic2hvd1RWcyIsInNob3dQbGF5c3RhdGlvbiIsImJhY2tUb0NhdGVnb3JpZXMiLCJiYWNrVG9NYWluTWVudSIsImhhbmRsZVNldHVwUHJvZmlsZSIsImhvbWVwYWdlU2VydmljZSIsImhhbmRsZVNldHVwUHJvZmlsZUFQSSIsInJlZGlyZWN0IiwiZ2V0U2V0dXBQcm9maWxlUGFnZSIsImdldEluZm9PcmRlclBhZ2UiLCJzZXRJbmZvT3JkZXIiLCJjdXN0b21lck5hbWUiLCJyZXNwb25zZTEiLCJlbWFpbCIsIm9yZGVyTnVtYmVyIiwicmVzcG9uc2UyIiwidGVtcGxhdGVNZXNzYWdlIiwic2V0SW5mb09yZGVyVGVtcGxhdGUiLCJwc2lkIiwianNvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxXb3JrXFxJbmRpdmlkdWFsXFxmYi1jaGF0LWJvdFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJob21lcGFnZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcclxuaW1wb3J0IGhvbWVwYWdlU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvaG9tZXBhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCBjaGF0Ym90U2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvY2hhdGJvdFNlcnZpY2VcIjtcclxuaW1wb3J0IHRlbXBsYXRlTWVzc2FnZSBmcm9tIFwiLi4vc2VydmljZXMvdGVtcGxhdGVNZXNzYWdlXCI7XHJcblxyXG5jb25zdCBQQUdFX0FDQ0VTU19UT0tFTiA9IHByb2Nlc3MuZW52LlBBR0VfQUNDRVNTX1RPS0VOO1xyXG5jb25zdCBWRVJJRllfVE9LRU4gPSBwcm9jZXNzLmVudi5WRVJJRllfVE9LRU47XHJcblxyXG5sZXQgZ2V0SG9tZVBhZ2UgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBmYWNlYm9va0FwcElkID0gcHJvY2Vzcy5lbnYuRkFDRUJPT0tfQVBQX0lEO1xyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoXCJob21lcGFnZS5lanNcIiwge1xyXG4gICAgICAgIGZhY2Vib29rQXBwSWQ6IGZhY2Vib29rQXBwSWRcclxuICAgIH0pXHJcbn07XHJcblxyXG5sZXQgZ2V0V2ViaG9vayA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgLy8gWW91ciB2ZXJpZnkgdG9rZW4uIFNob3VsZCBiZSBhIHJhbmRvbSBzdHJpbmcuXHJcbiAgXHJcblxyXG4gICAgLy8gUGFyc2UgdGhlIHF1ZXJ5IHBhcmFtc1xyXG4gICAgbGV0IG1vZGUgPSByZXEucXVlcnlbJ2h1Yi5tb2RlJ107XHJcbiAgICBsZXQgdG9rZW4gPSByZXEucXVlcnlbJ2h1Yi52ZXJpZnlfdG9rZW4nXTtcclxuICAgIGxldCBjaGFsbGVuZ2UgPSByZXEucXVlcnlbJ2h1Yi5jaGFsbGVuZ2UnXTtcclxuXHJcbiAgICAvLyBDaGVja3MgaWYgYSB0b2tlbiBhbmQgbW9kZSBpcyBpbiB0aGUgcXVlcnkgc3RyaW5nIG9mIHRoZSByZXF1ZXN0XHJcbiAgICBpZiAobW9kZSAmJiB0b2tlbikge1xyXG5cclxuICAgICAgICAvLyBDaGVja3MgdGhlIG1vZGUgYW5kIHRva2VuIHNlbnQgaXMgY29ycmVjdFxyXG4gICAgICAgIGlmIChtb2RlID09PSAnc3Vic2NyaWJlJyAmJiB0b2tlbiA9PT0gVkVSSUZZX1RPS0VOKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXNwb25kcyB3aXRoIHRoZSBjaGFsbGVuZ2UgdG9rZW4gZnJvbSB0aGUgcmVxdWVzdFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV0VCSE9PS19WRVJJRklFRCcpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChjaGFsbGVuZ2UpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBSZXNwb25kcyB3aXRoICc0MDMgRm9yYmlkZGVuJyBpZiB2ZXJpZnkgdG9rZW5zIGRvIG5vdCBtYXRjaFxyXG4gICAgICAgICAgICByZXMuc2VuZFN0YXR1cyg0MDMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmxldCBwb3N0V2ViaG9vayA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keTtcclxuXHJcbiAgICAvLyBDaGVja3MgdGhpcyBpcyBhbiBldmVudCBmcm9tIGEgcGFnZSBzdWJzY3JpcHRpb25cclxuICAgIGlmIChib2R5Lm9iamVjdCA9PT0gJ3BhZ2UnKSB7XHJcbiAgICAgICAgLy8gSXRlcmF0ZXMgb3ZlciBlYWNoIGVudHJ5IC0gdGhlcmUgbWF5IGJlIG11bHRpcGxlIGlmIGJhdGNoZWRcclxuICAgICAgICBib2R5LmVudHJ5LmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XHJcblxyXG4gICAgICAgICAgICAvL2NoZWNrIHRoZSBpbmNvbWluZyBtZXNzYWdlIGZyb20gcHJpbWFyeSBhcHAgb3Igbm90OyBpZiBzZWNvbmRhcnkgYXBwLCBleGl0XHJcbiAgICAgICAgICAgIGlmIChlbnRyeS5zdGFuZGJ5KSB7XHJcbiAgICAgICAgICAgICAgICAvL2lmIHVzZXIncyBtZXNzYWdlIGlzIFwiYmFja1wiIG9yIFwiZXhpdFwiLCByZXR1cm4gdGhlIGNvbnZlcnNhdGlvbiB0byB0aGUgYm90XHJcbiAgICAgICAgICAgICAgICBsZXQgd2ViaG9va19zdGFuZGJ5ID0gZW50cnkuc3RhbmRieVswXTtcclxuICAgICAgICAgICAgICAgIGlmICh3ZWJob29rX3N0YW5kYnkgJiYgd2ViaG9va19zdGFuZGJ5Lm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2ViaG9va19zdGFuZGJ5Lm1lc3NhZ2UudGV4dCA9PT0gXCJiYWNrXCIgfHwgd2ViaG9va19zdGFuZGJ5Lm1lc3NhZ2UudGV4dCA9PT0gXCJleGl0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBmdW5jdGlvbiB0byByZXR1cm4gdGhlIGNvbnZlcnNhdGlvbiB0byB0aGUgcHJpbWFyeSBhcHBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhdGJvdFNlcnZpY2UucGFzc1RocmVhZENvbnRyb2wod2ViaG9va19zdGFuZGJ5LnNlbmRlci5pZCwgXCJwcmltYXJ5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0Ym90U2VydmljZS50YWtlQ29udHJvbENvbnZlcnNhdGlvbih3ZWJob29rX3N0YW5kYnkuc2VuZGVyLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAgICAgLy8gR2V0cyB0aGUgYm9keSBvZiB0aGUgd2ViaG9vayBldmVudFxyXG4gICAgICAgICAgICBsZXQgd2ViaG9va19ldmVudCA9IGVudHJ5Lm1lc3NhZ2luZ1swXTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cod2ViaG9va19ldmVudCk7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHNlbmRlciBQU0lEXHJcbiAgICAgICAgICAgIGxldCBzZW5kZXJfcHNpZCA9IHdlYmhvb2tfZXZlbnQuc2VuZGVyLmlkO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNlbmRlcl9wc2lkOiBcIixzZW5kZXJfcHNpZClcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBpcyBhIG1lc3NhZ2Ugb3IgcG9zdGJhY2sgYW5kXHJcbiAgICAgICAgICAgIC8vIHBhc3MgdGhlIGV2ZW50IHRvIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIGlmICh3ZWJob29rX2V2ZW50Lm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZU1lc3NhZ2Uoc2VuZGVyX3BzaWQsIHdlYmhvb2tfZXZlbnQubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2ViaG9va19ldmVudC5wb3N0YmFjaykge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlUG9zdGJhY2soc2VuZGVyX3BzaWQsIHdlYmhvb2tfZXZlbnQucG9zdGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJldHVybnMgYSAnMjAwIE9LJyByZXNwb25zZSB0byBhbGwgcmVxdWVzdHNcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgnRVZFTlRfUkVDRUlWRUQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUmV0dXJucyBhICc0MDQgTm90IEZvdW5kJyBpZiBldmVudCBpcyBub3QgZnJvbSBhIHBhZ2Ugc3Vic2NyaXB0aW9uXHJcbiAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDA0KTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIEhhbmRsZXMgbWVzc2FnZXMgZXZlbnRzXHJcbmxldCBoYW5kbGVNZXNzYWdlID0gYXN5bmMgKHNlbmRlcl9wc2lkLCByZWNlaXZlZF9tZXNzYWdlKSA9PiB7XHJcbiAgICAvL2NoZWNrIHRoZSBpbmNvbWluZyBtZXNzYWdlIGlzIGEgcXVpY2sgcmVwbHk/XHJcbiAgICBjb25zb2xlLmxvZyhcImhhbmRsZSBtZXNzYWdlIFR1dHVhbmxlXCIpO1xyXG5cclxuXHJcbiAgICBsZXQgcmVzcG9uc2U7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIG1lc3NhZ2UgY29udGFpbnMgdGV4dFxyXG4gICAgaWYgKHJlY2VpdmVkX21lc3NhZ2UudGV4dCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgcGF5bG9hZCBmb3IgYSBiYXNpYyB0ZXh0IG1lc3NhZ2VcclxuICAgICAgICByZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgXCJ0ZXh0XCI6IGBZb3Ugc2VudCB0aGUgbWVzc2FnZTogXCIke3JlY2VpdmVkX21lc3NhZ2UudGV4dH1cIi4gTm93IHNlbmQgbWUgYW4gaW1hZ2UhYFxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAocmVjZWl2ZWRfbWVzc2FnZS5hdHRhY2htZW50cykge1xyXG4gICAgICAgIC8vIEdldCB0aGUgVVJMIG9mIHRoZSBtZXNzYWdlIGF0dGFjaG1lbnRcclxuICAgICAgICBsZXQgYXR0YWNobWVudF91cmwgPSByZWNlaXZlZF9tZXNzYWdlLmF0dGFjaG1lbnRzWzBdLnBheWxvYWQudXJsO1xyXG4gICAgICAgIHJlc3BvbnNlID0ge1xyXG4gICAgICAgICAgICBcImF0dGFjaG1lbnRcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidGVtcGxhdGVcIixcclxuICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZV90eXBlXCI6IFwiZ2VuZXJpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZWxlbWVudHNcIjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIklzIHRoaXMgdGhlIHJpZ2h0IHBpY3R1cmU/XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VidGl0bGVcIjogXCJUYXAgYSBidXR0b24gdG8gYW5zd2VyLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlX3VybFwiOiBhdHRhY2htZW50X3VybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25zXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJZZXMhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwieWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIk5vIVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIm5vXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gXHJcbiAgICBpZiAocmVjZWl2ZWRfbWVzc2FnZSAmJiByZWNlaXZlZF9tZXNzYWdlLnF1aWNrX3JlcGx5ICYmIHJlY2VpdmVkX21lc3NhZ2UucXVpY2tfcmVwbHkucGF5bG9hZCkge1xyXG4gICAgICAgIGxldCBwYXlsb2FkID0gcmVjZWl2ZWRfbWVzc2FnZS5xdWlja19yZXBseS5wYXlsb2FkO1xyXG4gICAgICAgIGlmIChwYXlsb2FkID09PSBcIkNBVEVHT1JJRVNcIikge1xyXG4gICAgICAgICAgICBhd2FpdCBjaGF0Ym90U2VydmljZS5zZW5kQ2F0ZWdvcmllcyhzZW5kZXJfcHNpZCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZCA9PT0gXCJMT09LVVBfT1JERVJcIikge1xyXG4gICAgICAgICAgICBhd2FpdCBjaGF0Ym90U2VydmljZS5zZW5kTG9va3VwT3JkZXIoc2VuZGVyX3BzaWQpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQgPT09IFwiVEFMS19BR0VOVFwiKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGNoYXRib3RTZXJ2aWNlLnJlcXVlc3RUYWxrVG9BZ2VudChzZW5kZXJfcHNpZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIFNlbmRzIHRoZSByZXNwb25zZSBtZXNzYWdlXHJcbiAgICBhd2FpdCBjaGF0Ym90U2VydmljZS5zZW5kTWVzc2FnZShzZW5kZXJfcHNpZCwgcmVzcG9uc2UpO1xyXG59O1xyXG5cclxuLy8gSGFuZGxlcyBtZXNzYWdpbmdfcG9zdGJhY2tzIGV2ZW50c1xyXG5sZXQgaGFuZGxlUG9zdGJhY2sgPSBhc3luYyAoc2VuZGVyX3BzaWQsIHJlY2VpdmVkX3Bvc3RiYWNrKSA9PiB7XHJcbiAgICAvLyBHZXQgdGhlIHBheWxvYWQgZm9yIHRoZSBwb3N0YmFja1xyXG4gICAgbGV0IHBheWxvYWQgPSByZWNlaXZlZF9wb3N0YmFjay5wYXlsb2FkO1xyXG5cclxuICAgIC8vIFNldCB0aGUgcmVzcG9uc2UgYmFzZWQgb24gdGhlIHBvc3RiYWNrIHBheWxvYWRcclxuICAgIHN3aXRjaCAocGF5bG9hZCkge1xyXG4gICAgICAgIGNhc2UgXCJHRVRfU1RBUlRFRFwiOlxyXG4gICAgICAgIGNhc2UgXCJSRVNUQVJUX0NPTlZFUlNBVElPTlwiOlxyXG4gICAgICAgICAgICBhd2FpdCBjaGF0Ym90U2VydmljZS5zZW5kTWVzc2FnZVdlbGNvbWVOZXdVc2VyKHNlbmRlcl9wc2lkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIlRBTEtfQUdFTlRcIjpcclxuICAgICAgICAgICAgYXdhaXQgY2hhdGJvdFNlcnZpY2UucmVxdWVzdFRhbGtUb0FnZW50KHNlbmRlcl9wc2lkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIlNIT1dfSEVBRFBIT05FU1wiOlxyXG4gICAgICAgICAgICBhd2FpdCBjaGF0Ym90U2VydmljZS5zaG93SGVhZHBob25lcyhzZW5kZXJfcHNpZCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJTSE9XX1RWXCI6XHJcbiAgICAgICAgICAgIGF3YWl0IGNoYXRib3RTZXJ2aWNlLnNob3dUVnMoc2VuZGVyX3BzaWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiU0hPV19QTEFZU1RBVElPTlwiOlxyXG4gICAgICAgICAgICBhd2FpdCBjaGF0Ym90U2VydmljZS5zaG93UGxheXN0YXRpb24oc2VuZGVyX3BzaWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiQkFDS19UT19DQVRFR09SSUVTXCI6XHJcbiAgICAgICAgICAgIGF3YWl0IGNoYXRib3RTZXJ2aWNlLmJhY2tUb0NhdGVnb3JpZXMoc2VuZGVyX3BzaWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiQkFDS19UT19NQUlOX01FTlVcIjpcclxuICAgICAgICAgICAgYXdhaXQgY2hhdGJvdFNlcnZpY2UuYmFja1RvTWFpbk1lbnUoc2VuZGVyX3BzaWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJ1biBkZWZhdWx0IHN3aXRjaCBjYXNlXCIpXHJcblxyXG4gICAgfVxyXG59O1xyXG5cclxubGV0IGhhbmRsZVNldHVwUHJvZmlsZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBob21lcGFnZVNlcnZpY2UuaGFuZGxlU2V0dXBQcm9maWxlQVBJKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcIi9cIik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5sZXQgZ2V0U2V0dXBQcm9maWxlUGFnZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoXCJwcm9maWxlLmVqc1wiKTtcclxufTtcclxuXHJcbmxldCBnZXRJbmZvT3JkZXJQYWdlID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgZmFjZWJvb2tBcHBJZCA9IHByb2Nlc3MuZW52LkZBQ0VCT09LX0FQUF9JRDtcclxuICAgIHJldHVybiByZXMucmVuZGVyKFwiaW5mb09yZGVyLmVqc1wiLCB7XHJcbiAgICAgICAgZmFjZWJvb2tBcHBJZDogZmFjZWJvb2tBcHBJZFxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5sZXQgc2V0SW5mb09yZGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBjdXN0b21lck5hbWUgPSBcIlwiO1xyXG4gICAgICAgIGlmIChyZXEuYm9keS5jdXN0b21lck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lID0gXCJFbXB0eVwiO1xyXG4gICAgICAgIH0gZWxzZSBjdXN0b21lck5hbWUgPSByZXEuYm9keS5jdXN0b21lck5hbWU7XHJcblxyXG4gICAgICAgIC8vIEkgZGVtbyByZXNwb25zZSB3aXRoIHNhbXBsZSB0ZXh0XHJcbiAgICAgICAgLy8geW91IGNhbiBjaGVjayBkYXRhYmFzZSBmb3IgY3VzdG9tZXIgb3JkZXIncyBzdGF0dXNcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlMSA9IHtcclxuICAgICAgICAgICAgXCJ0ZXh0XCI6IGAtLS1JbmZvIGFib3V0IHlvdXIgbG9va3VwIG9yZGVyLS0tXHJcbiAgICAgICAgICAgIFxcbkN1c3RvbWVyIG5hbWU6ICR7Y3VzdG9tZXJOYW1lfVxyXG4gICAgICAgICAgICBcXG5FbWFpbCBhZGRyZXNzOiAke3JlcS5ib2R5LmVtYWlsfVxyXG4gICAgICAgICAgICBcXG5PcmRlciBudW1iZXI6ICR7cmVxLmJvZHkub3JkZXJOdW1iZXJ9XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2UyID0gdGVtcGxhdGVNZXNzYWdlLnNldEluZm9PcmRlclRlbXBsYXRlKCk7XHJcblxyXG4gICAgICAgIGF3YWl0IGNoYXRib3RTZXJ2aWNlLnNlbmRNZXNzYWdlKHJlcS5ib2R5LnBzaWQsIHJlc3BvbnNlMSk7XHJcbiAgICAgICAgYXdhaXQgY2hhdGJvdFNlcnZpY2Uuc2VuZE1lc3NhZ2UocmVxLmJvZHkucHNpZCwgcmVzcG9uc2UyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJva1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdldEhvbWVQYWdlOiBnZXRIb21lUGFnZSxcclxuICAgIGdldFdlYmhvb2s6IGdldFdlYmhvb2ssXHJcbiAgICBwb3N0V2ViaG9vazogcG9zdFdlYmhvb2ssXHJcbiAgICBoYW5kbGVTZXR1cFByb2ZpbGU6IGhhbmRsZVNldHVwUHJvZmlsZSxcclxuICAgIGdldFNldHVwUHJvZmlsZVBhZ2U6IGdldFNldHVwUHJvZmlsZVBhZ2UsXHJcbiAgICBnZXRJbmZvT3JkZXJQYWdlOiBnZXRJbmZvT3JkZXJQYWdlLFxyXG4gICAgc2V0SW5mb09yZGVyOiBzZXRJbmZvT3JkZXJcclxufTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUNBOztBQUNBOztBQUNBOzs7OytDQUZBLG9KOzs7Ozs7QUFEQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBS0EsSUFBTUMsaUJBQWlCLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixpQkFBdEM7QUFDQSxJQUFNRyxZQUFZLEdBQUdGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUFqQzs7QUFFQSxJQUFJQyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztFQUM1QixJQUFJQyxhQUFhLEdBQUdOLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTSxlQUFoQztFQUNBLE9BQU9GLEdBQUcsQ0FBQ0csTUFBSixDQUFXLGNBQVgsRUFBMkI7SUFDOUJGLGFBQWEsRUFBRUE7RUFEZSxDQUEzQixDQUFQO0FBR0gsQ0FMRDs7QUFPQSxJQUFJRyxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFDTCxHQUFELEVBQU1DLEdBQU4sRUFBYztFQUMzQjtFQUdBO0VBQ0EsSUFBSUssSUFBSSxHQUFHTixHQUFHLENBQUNPLEtBQUosQ0FBVSxVQUFWLENBQVg7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","map":{"version":3,"names":["require","config","PAGE_ACCESS_TOKEN","process","env","VERIFY_TOKEN","getHomePage","req","res","facebookAppId","FACEBOOK_APP_ID","render","getWebhook","mode","query","token","challenge","console","log","status","send","sendStatus","postWebhook","body","object","entry","forEach","standby","webhook_standby","message","text","chatbotService","takeControlConversation","sender","id","webhook_event","messaging","sender_psid","handleMessage","postback","handlePostback","received_message","response","attachments","attachment_url","payload","url","quick_reply","sendCategories","sendLookupOrder","requestTalkToAgent","sendMessage","received_postback","sendMessageWelcomeNewUser","showHeadphones","showTVs","showPlaystation","backToCategories","backToMainMenu","handleSetupProfile","homepageService","handleSetupProfileAPI","redirect","getSetupProfilePage","getInfoOrderPage","setInfoOrder","customerName","response1","email","orderNumber","response2","templateMessage","setInfoOrderTemplate","psid","json","module","exports"],"sourceRoot":"D:\\Work\\Individual\\fb-chat-bot\\src\\controllers\\","sources":["homepageController.js"],"sourcesContent":["require(\"dotenv\").config();\r\nimport homepageService from \"../services/homepageService\";\r\nimport chatbotService from \"../services/chatbotService\";\r\nimport templateMessage from \"../services/templateMessage\";\r\n\r\nconst PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\r\nconst VERIFY_TOKEN = process.env.VERIFY_TOKEN;\r\n\r\nlet getHomePage = (req, res) => {\r\n    let facebookAppId = process.env.FACEBOOK_APP_ID;\r\n    return res.render(\"homepage.ejs\", {\r\n        facebookAppId: facebookAppId\r\n    })\r\n};\r\n\r\nlet getWebhook = (req, res) => {\r\n    // Your verify token. Should be a random string.\r\n  \r\n\r\n    // Parse the query params\r\n    let mode = req.query['hub.mode'];\r\n    let token = req.query['hub.verify_token'];\r\n    let challenge = req.query['hub.challenge'];\r\n\r\n    // Checks if a token and mode is in the query string of the request\r\n    if (mode && token) {\r\n\r\n        // Checks the mode and token sent is correct\r\n        if (mode === 'subscribe' && token === VERIFY_TOKEN) {\r\n\r\n            // Responds with the challenge token from the request\r\n            console.log('WEBHOOK_VERIFIED');\r\n            res.status(200).send(challenge);\r\n\r\n        } else {\r\n            // Responds with '403 Forbidden' if verify tokens do not match\r\n            res.sendStatus(403);\r\n        }\r\n    }\r\n};\r\n\r\nlet postWebhook = (req, res) => {\r\n    let body = req.body;\r\n\r\n    // Checks this is an event from a page subscription\r\n    if (body.object === 'page') {\r\n        // Iterates over each entry - there may be multiple if batched\r\n        body.entry.forEach(function (entry) {\r\n\r\n            //check the incoming message from primary app or not; if secondary app, exit\r\n            if (entry.standby) {\r\n                //if user's message is \"back\" or \"exit\", return the conversation to the bot\r\n                let webhook_standby = entry.standby[0];\r\n                if (webhook_standby && webhook_standby.message) {\r\n                    if (webhook_standby.message.text === \"back\" || webhook_standby.message.text === \"exit\") {\r\n                        // call function to return the conversation to the primary app\r\n                        // chatbotService.passThreadControl(webhook_standby.sender.id, \"primary\");\r\n                        chatbotService.takeControlConversation(webhook_standby.sender.id);\r\n                    }\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            //     // Gets the body of the webhook event\r\n            let webhook_event = entry.messaging[0];\r\n            console.log(webhook_event);\r\n\r\n            // Get the sender PSID\r\n            let sender_psid = webhook_event.sender.id;\r\n            console.log(\"Sender_psid: \",sender_psid)\r\n\r\n            // Check if the event is a message or postback and\r\n            // pass the event to the appropriate handler function\r\n            if (webhook_event.message) {\r\n                handleMessage(sender_psid, webhook_event.message);\r\n            } else if (webhook_event.postback) {\r\n                handlePostback(sender_psid, webhook_event.postback);\r\n            }\r\n        });\r\n\r\n        // Returns a '200 OK' response to all requests\r\n        res.status(200).send('EVENT_RECEIVED');\r\n    } else {\r\n        // Returns a '404 Not Found' if event is not from a page subscription\r\n        res.sendStatus(404);\r\n    }\r\n};\r\n\r\n// Handles messages events\r\nlet handleMessage = async (sender_psid, received_message) => {\r\n    //check the incoming message is a quick reply?\r\n    console.log(\"handle message Tutuanle\");\r\n\r\n\r\n    let response;\r\n\r\n    // Check if the message contains text\r\n    if (received_message.text) {\r\n        // Create the payload for a basic text message\r\n        response = {\r\n            \"text\": `You sent the message: \"${received_message.text}\". Now send me an image!`\r\n        }\r\n    } else if (received_message.attachments) {\r\n        // Get the URL of the message attachment\r\n        let attachment_url = received_message.attachments[0].payload.url;\r\n        response = {\r\n            \"attachment\": {\r\n                \"type\": \"template\",\r\n                \"payload\": {\r\n                    \"template_type\": \"generic\",\r\n                    \"elements\": [{\r\n                        \"title\": \"Is this the right picture?\",\r\n                        \"subtitle\": \"Tap a button to answer.\",\r\n                        \"image_url\": attachment_url,\r\n                        \"buttons\": [\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Yes!\",\r\n                                \"payload\": \"yes\",\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"No!\",\r\n                                \"payload\": \"no\",\r\n                            }\r\n                        ],\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n \r\n    if (received_message && received_message.quick_reply && received_message.quick_reply.payload) {\r\n        let payload = received_message.quick_reply.payload;\r\n        if (payload === \"CATEGORIES\") {\r\n            await chatbotService.sendCategories(sender_psid);\r\n\r\n        } else if (payload === \"LOOKUP_ORDER\") {\r\n            await chatbotService.sendLookupOrder(sender_psid);\r\n\r\n        } else if (payload === \"TALK_AGENT\") {\r\n            await chatbotService.requestTalkToAgent(sender_psid);\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n\r\n    // Sends the response message\r\n    await chatbotService.sendMessage(sender_psid, response);\r\n};\r\n\r\n// Handles messaging_postbacks events\r\nlet handlePostback = async (sender_psid, received_postback) => {\r\n    // Get the payload for the postback\r\n    let payload = received_postback.payload;\r\n\r\n    // Set the response based on the postback payload\r\n    switch (payload) {\r\n        case \"GET_STARTED\":\r\n        case \"RESTART_CONVERSATION\":\r\n            await chatbotService.sendMessageWelcomeNewUser(sender_psid);\r\n            break;\r\n        case \"TALK_AGENT\":\r\n            await chatbotService.requestTalkToAgent(sender_psid);\r\n            break;\r\n        case \"SHOW_HEADPHONES\":\r\n            await chatbotService.showHeadphones(sender_psid);\r\n            break;\r\n        case \"SHOW_TV\":\r\n            await chatbotService.showTVs(sender_psid);\r\n            break;\r\n        case \"SHOW_PLAYSTATION\":\r\n            await chatbotService.showPlaystation(sender_psid);\r\n            break;\r\n        case \"BACK_TO_CATEGORIES\":\r\n            await chatbotService.backToCategories(sender_psid);\r\n            break;\r\n        case \"BACK_TO_MAIN_MENU\":\r\n            await chatbotService.backToMainMenu(sender_psid);\r\n            break;\r\n        default:\r\n            console.log(\"run default switch case\")\r\n\r\n    }\r\n};\r\n\r\nlet handleSetupProfile = async (req, res) => {\r\n    try {\r\n        await homepageService.handleSetupProfileAPI();\r\n        return res.redirect(\"/\");\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n};\r\n\r\nlet getSetupProfilePage = (req, res) => {\r\n    return res.render(\"profile.ejs\");\r\n};\r\n\r\nlet getInfoOrderPage = (req, res) => {\r\n    let facebookAppId = process.env.FACEBOOK_APP_ID;\r\n    return res.render(\"infoOrder.ejs\", {\r\n        facebookAppId: facebookAppId\r\n    });\r\n};\r\n\r\nlet setInfoOrder = async (req, res) => {\r\n    try {\r\n        let customerName = \"\";\r\n        if (req.body.customerName === \"\") {\r\n            customerName = \"Empty\";\r\n        } else customerName = req.body.customerName;\r\n\r\n        // I demo response with sample text\r\n        // you can check database for customer order's status\r\n\r\n        let response1 = {\r\n            \"text\": `---Info about your lookup order---\r\n            \\nCustomer name: ${customerName}\r\n            \\nEmail address: ${req.body.email}\r\n            \\nOrder number: ${req.body.orderNumber}\r\n            `\r\n        };\r\n\r\n        let response2 = templateMessage.setInfoOrderTemplate();\r\n\r\n        await chatbotService.sendMessage(req.body.psid, response1);\r\n        await chatbotService.sendMessage(req.body.psid, response2);\r\n\r\n        return res.status(200).json({\r\n            message: \"ok\"\r\n        });\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    getHomePage: getHomePage,\r\n    getWebhook: getWebhook,\r\n    postWebhook: postWebhook,\r\n    handleSetupProfile: handleSetupProfile,\r\n    getSetupProfilePage: getSetupProfilePage,\r\n    getInfoOrderPage: getInfoOrderPage,\r\n    setInfoOrder: setInfoOrder\r\n};\r\n\r\n"],"mappings":"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"}},"mtime":1663858995320},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"filename\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\services\\\\homepageService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nrequire(\"dotenv\").config();\n\nvar PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\n\nvar handleSetupProfileAPI = function handleSetupProfileAPI() {\n  return new Promise(function (resolve, reject) {\n    try {\n      var url = \"https://graph.facebook.com/v7.0/me/messenger_profile?access_token=\".concat(PAGE_ACCESS_TOKEN);\n      var request_body = {\n        \"get_started\": {\n          \"payload\": \"GET_STARTED\"\n        },\n        \"persistent_menu\": [{\n          \"locale\": \"default\",\n          \"composer_input_disabled\": false,\n          \"call_to_actions\": [{\n            \"type\": \"postback\",\n            \"title\": \"Talk to an agent\",\n            \"payload\": \"TALK_AGENT\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Restart this conversation\",\n            \"payload\": \"RESTART_CONVERSATION\"\n          }, {\n            \"type\": \"nested\",\n            \"title\": \"More info\",\n            \"call_to_actions\": [{\n              \"type\": \"web_url\",\n              \"title\": \"View Facebook Fan Page\",\n              \"url\": \"https://www.facebook.com/haryphamdev\",\n              \"webview_height_ratio\": \"full\"\n            }, {\n              \"type\": \"web_url\",\n              \"title\": \"View Youtube channel\",\n              \"url\": \"https://bit.ly/subscribe-haryphamdev\",\n              \"webview_height_ratio\": \"full\"\n            }]\n          }]\n        }],\n        \"whitelisted_domains\": [\"https://tech-shop-haryphamdev.herokuapp.com/\"]\n      }; // Send the HTTP request to the Messenger Platform\n\n      (0, _request[\"default\"])({\n        \"uri\": url,\n        \"method\": \"POST\",\n        \"json\": request_body\n      }, function (err, res, body) {\n        if (!err) {\n          resolve(\"Done!\");\n        } else {\n          reject(\"Unable to send message:\" + err);\n        }\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nvar getFacebookUsername = function getFacebookUsername(sender_psid) {\n  return new Promise(function (resolve, reject) {\n    try {\n      // Send the HTTP request to the Messenger Platform\n      var url = \"https://graph.facebook.com/\".concat(sender_psid, \"?fields=first_name,last_name,profile_pic&access_token=\").concat(PAGE_ACCESS_TOKEN);\n      (0, _request[\"default\"])({\n        \"uri\": url,\n        \"method\": \"GET\"\n      }, function (err, res, body) {\n        if (!err) {\n          //convert string to json object\n          body = JSON.parse(body);\n          var username = \"\".concat(body.last_name, \" \").concat(body.first_name);\n          resolve(username);\n        } else {\n          reject(\"Unable to send message:\" + err);\n        }\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nvar sendTypingOn = function sendTypingOn(sender_psid) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var request_body = {\n        \"recipient\": {\n          \"id\": sender_psid\n        },\n        \"sender_action\": \"typing_on\"\n      };\n      var url = \"https://graph.facebook.com/v6.0/me/messages?access_token=\".concat(PAGE_ACCESS_TOKEN);\n      (0, _request[\"default\"])({\n        \"uri\": url,\n        \"method\": \"POST\",\n        \"json\": request_body\n      }, function (err, res, body) {\n        if (!err) {\n          resolve(\"done!\");\n        } else {\n          reject(\"Unable to send message:\" + err);\n        }\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nvar markMessageRead = function markMessageRead(sender_psid) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var request_body = {\n        \"recipient\": {\n          \"id\": sender_psid\n        },\n        \"sender_action\": \"mark_seen\"\n      };\n      var url = \"https://graph.facebook.com/v6.0/me/messages?access_token=\".concat(PAGE_ACCESS_TOKEN);\n      (0, _request[\"default\"])({\n        \"uri\": url,\n        \"method\": \"POST\",\n        \"json\": request_body\n      }, function (err, res, body) {\n        if (!err) {\n          resolve(\"done!\");\n        } else {\n          reject(\"Unable to send message:\" + err);\n        }\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nmodule.exports = {\n  handleSetupProfileAPI: handleSetupProfileAPI,\n  getFacebookUsername: getFacebookUsername,\n  markMessageRead: markMessageRead,\n  sendTypingOn: sendTypingOn\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiUEFHRV9BQ0NFU1NfVE9LRU4iLCJwcm9jZXNzIiwiZW52IiwiaGFuZGxlU2V0dXBQcm9maWxlQVBJIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1cmwiLCJyZXF1ZXN0X2JvZHkiLCJyZXF1ZXN0IiwiZXJyIiwicmVzIiwiYm9keSIsImUiLCJnZXRGYWNlYm9va1VzZXJuYW1lIiwic2VuZGVyX3BzaWQiLCJKU09OIiwicGFyc2UiLCJ1c2VybmFtZSIsImxhc3RfbmFtZSIsImZpcnN0X25hbWUiLCJzZW5kVHlwaW5nT24iLCJtYXJrTWVzc2FnZVJlYWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcV29ya1xcSW5kaXZpZHVhbFxcZmItY2hhdC1ib3RcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsiaG9tZXBhZ2VTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XHJcbmltcG9ydCByZXF1ZXN0IGZyb20gXCJyZXF1ZXN0XCI7XHJcblxyXG5jb25zdCBQQUdFX0FDQ0VTU19UT0tFTiA9IHByb2Nlc3MuZW52LlBBR0VfQUNDRVNTX1RPS0VOO1xyXG5cclxubGV0IGhhbmRsZVNldHVwUHJvZmlsZUFQSSA9ICgpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92Ny4wL21lL21lc3Nlbmdlcl9wcm9maWxlP2FjY2Vzc190b2tlbj0ke1BBR0VfQUNDRVNTX1RPS0VOfWA7XHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0X2JvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBcImdldF9zdGFydGVkXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJHRVRfU1RBUlRFRFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJwZXJzaXN0ZW50X21lbnVcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsb2NhbGVcIjogXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tcG9zZXJfaW5wdXRfZGlzYWJsZWRcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2FsbF90b19hY3Rpb25zXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJUYWxrIHRvIGFuIGFnZW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiVEFMS19BR0VOVFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlJlc3RhcnQgdGhpcyBjb252ZXJzYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJSRVNUQVJUX0NPTlZFUlNBVElPTlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm5lc3RlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJNb3JlIGluZm9cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNhbGxfdG9fYWN0aW9uc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIndlYl91cmxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJWaWV3IEZhY2Vib29rIEZhbiBQYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9oYXJ5cGhhbWRldlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcImZ1bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiVmlldyBZb3V0dWJlIGNoYW5uZWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvc3Vic2NyaWJlLWhhcnlwaGFtZGV2XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndlYnZpZXdfaGVpZ2h0X3JhdGlvXCI6IFwiZnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIFwid2hpdGVsaXN0ZWRfZG9tYWluc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL3RlY2gtc2hvcC1oYXJ5cGhhbWRldi5oZXJva3VhcHAuY29tL1wiXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIFNlbmQgdGhlIEhUVFAgcmVxdWVzdCB0byB0aGUgTWVzc2VuZ2VyIFBsYXRmb3JtXHJcbiAgICAgICAgICAgIHJlcXVlc3Qoe1xyXG4gICAgICAgICAgICAgICAgXCJ1cmlcIjogdXJsLFxyXG4gICAgICAgICAgICAgICAgXCJtZXRob2RcIjogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBcImpzb25cIjogcmVxdWVzdF9ib2R5XHJcbiAgICAgICAgICAgIH0sIChlcnIsIHJlcywgYm9keSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFwiRG9uZSFcIilcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiVW5hYmxlIHRvIHNlbmQgbWVzc2FnZTpcIiArIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxubGV0IGdldEZhY2Vib29rVXNlcm5hbWUgPSAoc2VuZGVyX3BzaWQpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBNZXNzZW5nZXIgUGxhdGZvcm1cclxuICAgICAgICAgICAgbGV0IHVybCA9IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8ke3NlbmRlcl9wc2lkfT9maWVsZHM9Zmlyc3RfbmFtZSxsYXN0X25hbWUscHJvZmlsZV9waWMmYWNjZXNzX3Rva2VuPSR7UEFHRV9BQ0NFU1NfVE9LRU59YDtcclxuICAgICAgICAgICAgcmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICBcInVyaVwiOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBcIm1ldGhvZFwiOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHN0cmluZyB0byBqc29uIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1c2VybmFtZSA9IGAke2JvZHkubGFzdF9uYW1lfSAke2JvZHkuZmlyc3RfbmFtZX1gO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJVbmFibGUgdG8gc2VuZCBtZXNzYWdlOlwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5sZXQgc2VuZFR5cGluZ09uID0gKHNlbmRlcl9wc2lkKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0X2JvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBcInJlY2lwaWVudFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBzZW5kZXJfcHNpZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwic2VuZGVyX2FjdGlvblwiOiBcInR5cGluZ19vblwiXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBsZXQgdXJsID0gYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3Y2LjAvbWUvbWVzc2FnZXM/YWNjZXNzX3Rva2VuPSR7UEFHRV9BQ0NFU1NfVE9LRU59YDtcclxuICAgICAgICAgICAgcmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICBcInVyaVwiOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBcIm1ldGhvZFwiOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcclxuXHJcbiAgICAgICAgICAgIH0sIChlcnIsIHJlcywgYm9keSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFwiZG9uZSFcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChcIlVuYWJsZSB0byBzZW5kIG1lc3NhZ2U6XCIgKyBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5sZXQgbWFya01lc3NhZ2VSZWFkID0gKHNlbmRlcl9wc2lkKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0X2JvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBcInJlY2lwaWVudFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBzZW5kZXJfcHNpZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwic2VuZGVyX2FjdGlvblwiOiBcIm1hcmtfc2VlblwiXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBsZXQgdXJsID0gYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3Y2LjAvbWUvbWVzc2FnZXM/YWNjZXNzX3Rva2VuPSR7UEFHRV9BQ0NFU1NfVE9LRU59YDtcclxuICAgICAgICAgICAgcmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICBcInVyaVwiOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBcIm1ldGhvZFwiOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcclxuXHJcbiAgICAgICAgICAgIH0sIChlcnIsIHJlcywgYm9keSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFwiZG9uZSFcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChcIlVuYWJsZSB0byBzZW5kIG1lc3NhZ2U6XCIgKyBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBoYW5kbGVTZXR1cFByb2ZpbGVBUEk6IGhhbmRsZVNldHVwUHJvZmlsZUFQSSxcclxuICAgIGdldEZhY2Vib29rVXNlcm5hbWU6IGdldEZhY2Vib29rVXNlcm5hbWUsXHJcbiAgICBtYXJrTWVzc2FnZVJlYWQ6IG1hcmtNZXNzYWdlUmVhZCxcclxuICAgIHNlbmRUeXBpbmdPbjogc2VuZFR5cGluZ09uXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFHQSxJQUFNQyxpQkFBaUIsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLGlCQUF0Qzs7QUFFQSxJQUFJRyxxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXdCLEdBQU07RUFDOUIsT0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0lBQ3BDLElBQUk7TUFDQSxJQUFJQyxHQUFHLCtFQUF3RVAsaUJBQXhFLENBQVA7TUFDQSxJQUFJUSxZQUFZLEdBQUc7UUFDZixlQUFlO1VBQ1gsV0FBVztRQURBLENBREE7UUFJZixtQkFBbUIsQ0FDZjtVQUNJLFVBQVUsU0FEZDtVQUVJLDJCQUEyQixLQUYvQjtVQUdJLG1CQUFtQixDQUNmO1lBQ0ksUUFBUSxVQURaO1lBRUksU0FBUyxrQkFGYjtZQUdJLFdBQVc7VUFIZixDQURlLEVBTWY7WUFDSSxRQUFRLFVBRFo7WUFFSSxTQUFTLDJCQUZiO1lBR0ksV0FBVztVQUhmLENBTmUsRUFXZjtZQUNJLFFBQVEsUUFEWjtZQUVJLFNBQVMsV0FGYjtZQUdJLG1CQUFtQixDQUNmO2NBQ0ksUUFBUSxTQURaO2NBRUksU0FBUyx3QkFGYjtjQUdJLE9BQU8sc0NBSFg7Y0FJSSx3QkFBd0I7WUFKNUIsQ0FEZSxFQU9mO2NBQ0ksUUFBUSxTQURaO2NBRUksU0FBUyxzQkFGYjtjQUdJLE9BQU8sc0NBSFg7Y0FJSSx3QkFBd0I7WUFKNUIsQ0FQ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","map":{"version":3,"names":["require","config","PAGE_ACCESS_TOKEN","process","env","handleSetupProfileAPI","Promise","resolve","reject","url","request_body","request","err","res","body","e","getFacebookUsername","sender_psid","JSON","parse","username","last_name","first_name","sendTypingOn","markMessageRead","module","exports"],"sourceRoot":"D:\\Work\\Individual\\fb-chat-bot\\src\\services\\","sources":["homepageService.js"],"sourcesContent":["require(\"dotenv\").config();\r\nimport request from \"request\";\r\n\r\nconst PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\r\n\r\nlet handleSetupProfileAPI = () => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            let url = `https://graph.facebook.com/v7.0/me/messenger_profile?access_token=${PAGE_ACCESS_TOKEN}`;\r\n            let request_body = {\r\n                \"get_started\": {\r\n                    \"payload\": \"GET_STARTED\"\r\n                },\r\n                \"persistent_menu\": [\r\n                    {\r\n                        \"locale\": \"default\",\r\n                        \"composer_input_disabled\": false,\r\n                        \"call_to_actions\": [\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Talk to an agent\",\r\n                                \"payload\": \"TALK_AGENT\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Restart this conversation\",\r\n                                \"payload\": \"RESTART_CONVERSATION\"\r\n                            },\r\n                            {\r\n                                \"type\": \"nested\",\r\n                                \"title\": \"More info\",\r\n                                \"call_to_actions\": [\r\n                                    {\r\n                                        \"type\": \"web_url\",\r\n                                        \"title\": \"View Facebook Fan Page\",\r\n                                        \"url\": \"https://www.facebook.com/haryphamdev\",\r\n                                        \"webview_height_ratio\": \"full\"\r\n                                    },\r\n                                    {\r\n                                        \"type\": \"web_url\",\r\n                                        \"title\": \"View Youtube channel\",\r\n                                        \"url\": \"https://bit.ly/subscribe-haryphamdev\",\r\n                                        \"webview_height_ratio\": \"full\"\r\n                                    },\r\n                                ]\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                \"whitelisted_domains\": [\r\n                    \"https://tech-shop-haryphamdev.herokuapp.com/\"\r\n                ]\r\n            };\r\n            // Send the HTTP request to the Messenger Platform\r\n            request({\r\n                \"uri\": url,\r\n                \"method\": \"POST\",\r\n                \"json\": request_body\r\n            }, (err, res, body) => {\r\n                if (!err) {\r\n                    resolve(\"Done!\")\r\n                } else {\r\n                    reject(\"Unable to send message:\" + err);\r\n                }\r\n            });\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet getFacebookUsername = (sender_psid) => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            // Send the HTTP request to the Messenger Platform\r\n            let url = `https://graph.facebook.com/${sender_psid}?fields=first_name,last_name,profile_pic&access_token=${PAGE_ACCESS_TOKEN}`;\r\n            request({\r\n                \"uri\": url,\r\n                \"method\": \"GET\",\r\n            }, (err, res, body) => {\r\n                if (!err) {\r\n                    //convert string to json object\r\n                    body = JSON.parse(body);\r\n                    let username = `${body.last_name} ${body.first_name}`;\r\n                    resolve(username);\r\n                } else {\r\n                    reject(\"Unable to send message:\" + err);\r\n                }\r\n            });\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet sendTypingOn = (sender_psid) => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            let request_body = {\r\n                \"recipient\": {\r\n                    \"id\": sender_psid\r\n                },\r\n                \"sender_action\": \"typing_on\"\r\n            };\r\n\r\n            let url = `https://graph.facebook.com/v6.0/me/messages?access_token=${PAGE_ACCESS_TOKEN}`;\r\n            request({\r\n                \"uri\": url,\r\n                \"method\": \"POST\",\r\n                \"json\": request_body\r\n\r\n            }, (err, res, body) => {\r\n                if (!err) {\r\n                    resolve(\"done!\");\r\n                } else {\r\n                    reject(\"Unable to send message:\" + err);\r\n                }\r\n            });\r\n\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet markMessageRead = (sender_psid) => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            let request_body = {\r\n                \"recipient\": {\r\n                    \"id\": sender_psid\r\n                },\r\n                \"sender_action\": \"mark_seen\"\r\n            };\r\n\r\n            let url = `https://graph.facebook.com/v6.0/me/messages?access_token=${PAGE_ACCESS_TOKEN}`;\r\n            request({\r\n                \"uri\": url,\r\n                \"method\": \"POST\",\r\n                \"json\": request_body\r\n\r\n            }, (err, res, body) => {\r\n                if (!err) {\r\n                    resolve(\"done!\");\r\n                } else {\r\n                    reject(\"Unable to send message:\" + err);\r\n                }\r\n            });\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    })\r\n};\r\n\r\nmodule.exports = {\r\n    handleSetupProfileAPI: handleSetupProfileAPI,\r\n    getFacebookUsername: getFacebookUsername,\r\n    markMessageRead: markMessageRead,\r\n    sendTypingOn: sendTypingOn\r\n};\r\n"],"mappings":"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"}},"mtime":1663686793211},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"filename\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\services\\\\chatbotService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nvar _homepageService = _interopRequireDefault(require(\"./homepageService\"));\n\nvar _templateMessage = _interopRequireDefault(require(\"./templateMessage\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nrequire(\"dotenv\").config();\n\nvar PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\nvar SECONDARY_RECEIVER_ID = process.env.SECONDARY_RECEIVER_ID;\nvar PRIMARY_RECEIVER_ID = process.env.FACEBOOK_APP_ID;\n\nvar sendMessageWelcomeNewUser = function sendMessageWelcomeNewUser(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve, reject) {\n      var username, response1, response2, response3, response4;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _homepageService[\"default\"].getFacebookUsername(sender_psid);\n\n            case 3:\n              username = _context.sent;\n              //send text message\n              response1 = {\n                \"text\": \"Hi \".concat(username, \"! Welcome to Tech Shop Haryphamdev, where you will find what you need.\")\n              }; //send an image\n\n              response2 = {\n                \"attachment\": {\n                  \"type\": \"image\",\n                  \"payload\": {\n                    \"url\": \"https://bit.ly/imageWelcome\"\n                  }\n                }\n              };\n              response3 = {\n                \"text\": \"At any time, use the menu below to navigate through the features.\"\n              }; //send a quick reply\n\n              response4 = {\n                \"text\": \"What can I do to help you today?\",\n                \"quick_replies\": [{\n                  \"content_type\": \"text\",\n                  \"title\": \"Categories\",\n                  \"payload\": \"CATEGORIES\"\n                }, {\n                  \"content_type\": \"text\",\n                  \"title\": \"Lookup Order\",\n                  \"payload\": \"LOOKUP_ORDER\"\n                }, {\n                  \"content_type\": \"text\",\n                  \"title\": \"Talk to an agent\",\n                  \"payload\": \"TALK_AGENT\"\n                }]\n              };\n              _context.next = 10;\n              return sendMessage(sender_psid, response1);\n\n            case 10:\n              _context.next = 12;\n              return sendMessage(sender_psid, response2);\n\n            case 12:\n              _context.next = 14;\n              return sendMessage(sender_psid, response3);\n\n            case 14:\n              _context.next = 16;\n              return sendMessage(sender_psid, response4);\n\n            case 16:\n              resolve(\"done\");\n              _context.next = 22;\n              break;\n\n            case 19:\n              _context.prev = 19;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 19]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar sendMessage = function sendMessage(sender_psid, response) {\n  console.log(\"sendMessage->\", sender_psid, response);\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resolve, reject) {\n      var request_body;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _homepageService[\"default\"].markMessageRead(sender_psid);\n\n            case 3:\n              _context2.next = 5;\n              return _homepageService[\"default\"].sendTypingOn(sender_psid);\n\n            case 5:\n              // Construct the message body\n              request_body = {\n                \"recipient\": {\n                  \"id\": sender_psid\n                },\n                \"message\": response\n              }; // Send the HTTP request to the Messenger Platform\n\n              (0, _request[\"default\"])({\n                \"uri\": \"https://graph.facebook.com/v6.0/me/messages\",\n                \"qs\": {\n                  \"access_token\": PAGE_ACCESS_TOKEN\n                },\n                \"method\": \"POST\",\n                \"json\": request_body\n              }, function (err, res, body) {\n                if (!err) {\n                  resolve('message sent!');\n                } else {\n                  reject(\"Unable to send message:\" + err);\n                }\n              });\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nvar requestTalkToAgent = function requestTalkToAgent(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resolve, reject) {\n      var response1, app;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              //send a text message\n              response1 = {\n                \"text\": \"Ok. Someone real will be with you in a few minutes ^^\"\n              };\n              _context3.next = 4;\n              return sendMessage(sender_psid, response1);\n\n            case 4:\n              //change this conversation to page inbox\n              app = \"page_inbox\";\n              _context3.next = 7;\n              return passThreadControl(sender_psid, app);\n\n            case 7:\n              resolve(\"done\");\n              _context3.next = 13;\n              break;\n\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 10]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\n\nvar passThreadControl = function passThreadControl(sender_psid, app) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var target_app_id = \"\";\n      var metadata = \"\";\n\n      if (app === \"page_inbox\") {\n        target_app_id = SECONDARY_RECEIVER_ID;\n        metadata = \"Pass thread control to inbox chat\";\n      }\n\n      if (app === \"primary\") {\n        target_app_id = PRIMARY_RECEIVER_ID;\n        metadata = \"Pass thread control to the bot, primary app\";\n      } // Construct the message body\n\n\n      var request_body = {\n        \"recipient\": {\n          \"id\": sender_psid\n        },\n        \"target_app_id\": target_app_id,\n        \"metadata\": metadata\n      }; // Send the HTTP request to the Messenger Platform\n\n      (0, _request[\"default\"])({\n        \"uri\": \"https://graph.facebook.com/v6.0/me/pass_thread_control\",\n        \"qs\": {\n          \"access_token\": PAGE_ACCESS_TOKEN\n        },\n        \"method\": \"POST\",\n        \"json\": request_body\n      }, function (err, res, body) {\n        console.log(body);\n\n        if (!err) {\n          resolve('message sent!');\n        } else {\n          reject(\"Unable to send message:\" + err);\n        }\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nvar sendCategories = function sendCategories(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              //send a generic template message\n              response = _templateMessage[\"default\"].sendCategoriesTemplate();\n              _context4.next = 4;\n              return sendMessage(sender_psid, response);\n\n            case 4:\n              resolve(\"done\");\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar sendLookupOrder = function sendLookupOrder(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              response = _templateMessage[\"default\"].sendLookupOrderTemplate();\n              _context5.next = 4;\n              return sendMessage(sender_psid, response);\n\n            case 4:\n              resolve(\"done\");\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar showHeadphones = function showHeadphones(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              response = _templateMessage[\"default\"].sendHeadphonesTemplate();\n              _context6.next = 4;\n              return sendMessage(sender_psid, response);\n\n            case 4:\n              resolve(\"done\");\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nvar showTVs = function showTVs(sender_psid) {\n  return new Promise(function (resolve, reject) {\n    try {\n      resolve(\"done\");\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nvar showPlaystation = function showPlaystation(sender_psid) {\n  return new Promise(function (resolve, reject) {\n    try {\n      resolve(\"done\");\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nvar backToCategories = function backToCategories(sender_psid) {\n  sendCategories(sender_psid);\n};\n\nvar backToMainMenu = function backToMainMenu(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              response = _templateMessage[\"default\"].backToMainMenuTemplate();\n              _context7.next = 4;\n              return sendMessage(sender_psid, response);\n\n            case 4:\n              resolve(\"done\");\n              _context7.next = 10;\n              break;\n\n            case 7:\n              _context7.prev = 7;\n              _context7.t0 = _context7[\"catch\"](0);\n              reject(_context7.t0);\n\n            case 10:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 7]]);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\n\nvar takeControlConversation = function takeControlConversation(sender_psid) {\n  return new Promise(function (resolve, reject) {\n    try {\n      // Construct the message body\n      var request_body = {\n        \"recipient\": {\n          \"id\": sender_psid\n        },\n        \"metadata\": \"Pass this conversation from page inbox to the bot - primary app\"\n      }; // Send the HTTP request to the Messenger Platform\n\n      (0, _request[\"default\"])({\n        \"uri\": \"https://graph.facebook.com/v6.0/me/take_thread_control\",\n        \"qs\": {\n          \"access_token\": PAGE_ACCESS_TOKEN\n        },\n        \"method\": \"POST\",\n        \"json\": request_body\n      }, /*#__PURE__*/function () {\n        var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(err, res, body) {\n          return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  if (err) {\n                    _context8.next = 8;\n                    break;\n                  }\n\n                  _context8.next = 3;\n                  return sendMessage(sender_psid, {\n                    \"text\": \"The super bot came back !!!\"\n                  });\n\n                case 3:\n                  _context8.next = 5;\n                  return backToMainMenu(sender_psid);\n\n                case 5:\n                  resolve('message sent!');\n                  _context8.next = 9;\n                  break;\n\n                case 8:\n                  reject(\"Unable to send message:\" + err);\n\n                case 9:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee8);\n        }));\n\n        return function (_x15, _x16, _x17) {\n          return _ref8.apply(this, arguments);\n        };\n      }());\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nmodule.exports = {\n  sendMessage: sendMessage,\n  sendMessageWelcomeNewUser: sendMessageWelcomeNewUser,\n  sendCategories: sendCategories,\n  sendLookupOrder: sendLookupOrder,\n  requestTalkToAgent: requestTalkToAgent,\n  showHeadphones: showHeadphones,\n  showTVs: showTVs,\n  showPlaystation: showPlaystation,\n  backToCategories: backToCategories,\n  backToMainMenu: backToMainMenu,\n  passThreadControl: passThreadControl,\n  takeControlConversation: takeControlConversation\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiUEFHRV9BQ0NFU1NfVE9LRU4iLCJwcm9jZXNzIiwiZW52IiwiU0VDT05EQVJZX1JFQ0VJVkVSX0lEIiwiUFJJTUFSWV9SRUNFSVZFUl9JRCIsIkZBQ0VCT09LX0FQUF9JRCIsInNlbmRNZXNzYWdlV2VsY29tZU5ld1VzZXIiLCJzZW5kZXJfcHNpZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiaG9tZXBhZ2VTZXJ2aWNlIiwiZ2V0RmFjZWJvb2tVc2VybmFtZSIsInVzZXJuYW1lIiwicmVzcG9uc2UxIiwicmVzcG9uc2UyIiwicmVzcG9uc2UzIiwicmVzcG9uc2U0Iiwic2VuZE1lc3NhZ2UiLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJtYXJrTWVzc2FnZVJlYWQiLCJzZW5kVHlwaW5nT24iLCJyZXF1ZXN0X2JvZHkiLCJyZXF1ZXN0IiwiZXJyIiwicmVzIiwiYm9keSIsInJlcXVlc3RUYWxrVG9BZ2VudCIsImFwcCIsInBhc3NUaHJlYWRDb250cm9sIiwidGFyZ2V0X2FwcF9pZCIsIm1ldGFkYXRhIiwiZSIsInNlbmRDYXRlZ29yaWVzIiwidGVtcGxhdGVNZXNzYWdlIiwic2VuZENhdGVnb3JpZXNUZW1wbGF0ZSIsInNlbmRMb29rdXBPcmRlciIsInNlbmRMb29rdXBPcmRlclRlbXBsYXRlIiwic2hvd0hlYWRwaG9uZXMiLCJzZW5kSGVhZHBob25lc1RlbXBsYXRlIiwic2hvd1RWcyIsInNob3dQbGF5c3RhdGlvbiIsImJhY2tUb0NhdGVnb3JpZXMiLCJiYWNrVG9NYWluTWVudSIsImJhY2tUb01haW5NZW51VGVtcGxhdGUiLCJ0YWtlQ29udHJvbENvbnZlcnNhdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxXb3JrXFxJbmRpdmlkdWFsXFxmYi1jaGF0LWJvdFxcc3JjXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJjaGF0Ym90U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5pbXBvcnQgcmVxdWVzdCBmcm9tIFwicmVxdWVzdFwiO1xyXG5pbXBvcnQgaG9tZXBhZ2VTZXJ2aWNlIGZyb20gXCIuL2hvbWVwYWdlU2VydmljZVwiO1xyXG5pbXBvcnQgdGVtcGxhdGVNZXNzYWdlIGZyb20gXCIuL3RlbXBsYXRlTWVzc2FnZVwiO1xyXG5cclxuY29uc3QgUEFHRV9BQ0NFU1NfVE9LRU4gPSBwcm9jZXNzLmVudi5QQUdFX0FDQ0VTU19UT0tFTjtcclxuY29uc3QgU0VDT05EQVJZX1JFQ0VJVkVSX0lEID0gcHJvY2Vzcy5lbnYuU0VDT05EQVJZX1JFQ0VJVkVSX0lEO1xyXG5jb25zdCBQUklNQVJZX1JFQ0VJVkVSX0lEID0gcHJvY2Vzcy5lbnYuRkFDRUJPT0tfQVBQX0lEO1xyXG5cclxubGV0IHNlbmRNZXNzYWdlV2VsY29tZU5ld1VzZXIgPSAoc2VuZGVyX3BzaWQpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHVzZXJuYW1lID0gYXdhaXQgaG9tZXBhZ2VTZXJ2aWNlLmdldEZhY2Vib29rVXNlcm5hbWUoc2VuZGVyX3BzaWQpO1xyXG4gICAgICAgICAgICAvL3NlbmQgdGV4dCBtZXNzYWdlXHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZTEgPSB7XHJcbiAgICAgICAgICAgICAgICBcInRleHRcIjogYEhpICR7dXNlcm5hbWV9ISBXZWxjb21lIHRvIFRlY2ggU2hvcCBIYXJ5cGhhbWRldiwgd2hlcmUgeW91IHdpbGwgZmluZCB3aGF0IHlvdSBuZWVkLmBcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2VuZCBhbiBpbWFnZVxyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UyID0ge1xyXG4gICAgICAgICAgICAgICAgXCJhdHRhY2htZW50XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvaW1hZ2VXZWxjb21lXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UzID0ge1xyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiQXQgYW55IHRpbWUsIHVzZSB0aGUgbWVudSBiZWxvdyB0byBuYXZpZ2F0ZSB0aHJvdWdoIHRoZSBmZWF0dXJlcy5cIlxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9zZW5kIGEgcXVpY2sgcmVwbHlcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlNCA9IHtcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIldoYXQgY2FuIEkgZG8gdG8gaGVscCB5b3UgdG9kYXk/XCIsXHJcbiAgICAgICAgICAgICAgICBcInF1aWNrX3JlcGxpZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50X3R5cGVcIjogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJDYXRlZ29yaWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIkNBVEVHT1JJRVNcIixcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50X3R5cGVcIjogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJMb29rdXAgT3JkZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiTE9PS1VQX09SREVSXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29udGVudF90eXBlXCI6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiVGFsayB0byBhbiBhZ2VudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJUQUxLX0FHRU5UXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKHNlbmRlcl9wc2lkLCByZXNwb25zZTEpO1xyXG4gICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShzZW5kZXJfcHNpZCwgcmVzcG9uc2UyKTtcclxuICAgICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2Uoc2VuZGVyX3BzaWQsIHJlc3BvbnNlMyk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKHNlbmRlcl9wc2lkLCByZXNwb25zZTQpO1xyXG4gICAgICAgICAgICByZXNvbHZlKFwiZG9uZVwiKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmxldCBzZW5kTWVzc2FnZSA9IChzZW5kZXJfcHNpZCwgcmVzcG9uc2UpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwic2VuZE1lc3NhZ2UtPlwiLCBzZW5kZXJfcHNpZCwgcmVzcG9uc2UpO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBob21lcGFnZVNlcnZpY2UubWFya01lc3NhZ2VSZWFkKHNlbmRlcl9wc2lkKTtcclxuICAgICAgICAgICAgYXdhaXQgaG9tZXBhZ2VTZXJ2aWNlLnNlbmRUeXBpbmdPbihzZW5kZXJfcHNpZCk7XHJcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgbWVzc2FnZSBib2R5XHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0X2JvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBcInJlY2lwaWVudFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBzZW5kZXJfcHNpZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwibWVzc2FnZVwiOiByZXNwb25zZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBNZXNzZW5nZXIgUGxhdGZvcm1cclxuICAgICAgICAgICAgcmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICBcInVyaVwiOiBcImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3Y2LjAvbWUvbWVzc2FnZXNcIixcclxuICAgICAgICAgICAgICAgIFwicXNcIjogeyBcImFjY2Vzc190b2tlblwiOiBQQUdFX0FDQ0VTU19UT0tFTiB9LFxyXG4gICAgICAgICAgICAgICAgXCJtZXRob2RcIjogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBcImpzb25cIjogcmVxdWVzdF9ib2R5XHJcbiAgICAgICAgICAgIH0sIChlcnIsIHJlcywgYm9keSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdtZXNzYWdlIHNlbnQhJylcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiVW5hYmxlIHRvIHNlbmQgbWVzc2FnZTpcIiArIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxubGV0IHJlcXVlc3RUYWxrVG9BZ2VudCA9IChzZW5kZXJfcHNpZCkgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL3NlbmQgYSB0ZXh0IG1lc3NhZ2VcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlMSA9IHtcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIk9rLiBTb21lb25lIHJlYWwgd2lsbCBiZSB3aXRoIHlvdSBpbiBhIGZldyBtaW51dGVzIF5eXCJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKHNlbmRlcl9wc2lkLCByZXNwb25zZTEpO1xyXG5cclxuICAgICAgICAgICAgLy9jaGFuZ2UgdGhpcyBjb252ZXJzYXRpb24gdG8gcGFnZSBpbmJveFxyXG4gICAgICAgICAgICBsZXQgYXBwID0gXCJwYWdlX2luYm94XCJcclxuICAgICAgICAgICAgYXdhaXQgcGFzc1RocmVhZENvbnRyb2woc2VuZGVyX3BzaWQsIGFwcCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoXCJkb25lXCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxubGV0IHBhc3NUaHJlYWRDb250cm9sID0gKHNlbmRlcl9wc2lkLCBhcHApID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHRhcmdldF9hcHBfaWQgPSBcIlwiO1xyXG4gICAgICAgICAgICBsZXQgbWV0YWRhdGEgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgaWYoYXBwID09PSBcInBhZ2VfaW5ib3hcIil7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRfYXBwX2lkID0gU0VDT05EQVJZX1JFQ0VJVkVSX0lEO1xyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBcIlBhc3MgdGhyZWFkIGNvbnRyb2wgdG8gaW5ib3ggY2hhdFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGFwcCA9PT0gXCJwcmltYXJ5XCIpe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0X2FwcF9pZCA9IFBSSU1BUllfUkVDRUlWRVJfSUQ7XHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IFwiUGFzcyB0aHJlYWQgY29udHJvbCB0byB0aGUgYm90LCBwcmltYXJ5IGFwcFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgbWVzc2FnZSBib2R5XHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0X2JvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICBcInJlY2lwaWVudFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBzZW5kZXJfcHNpZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwidGFyZ2V0X2FwcF9pZFwiOiB0YXJnZXRfYXBwX2lkLFxyXG4gICAgICAgICAgICAgICAgXCJtZXRhZGF0YVwiOiBtZXRhZGF0YVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBNZXNzZW5nZXIgUGxhdGZvcm1cclxuICAgICAgICAgICAgcmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICBcInVyaVwiOiBcImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3Y2LjAvbWUvcGFzc190aHJlYWRfY29udHJvbFwiLFxyXG4gICAgICAgICAgICAgICAgXCJxc1wiOiB7IFwiYWNjZXNzX3Rva2VuXCI6IFBBR0VfQUNDRVNTX1RPS0VOIH0sXHJcbiAgICAgICAgICAgICAgICBcIm1ldGhvZFwiOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcclxuICAgICAgICAgICAgfSwgKGVyciwgcmVzLCBib2R5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhib2R5KVxyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdtZXNzYWdlIHNlbnQhJylcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiVW5hYmxlIHRvIHNlbmQgbWVzc2FnZTpcIiArIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxubGV0IHNlbmRDYXRlZ29yaWVzID0gKHNlbmRlcl9wc2lkKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vc2VuZCBhIGdlbmVyaWMgdGVtcGxhdGUgbWVzc2FnZVxyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSB0ZW1wbGF0ZU1lc3NhZ2Uuc2VuZENhdGVnb3JpZXNUZW1wbGF0ZSgpO1xyXG4gICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShzZW5kZXJfcHNpZCwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICByZXNvbHZlKFwiZG9uZVwiKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmxldCBzZW5kTG9va3VwT3JkZXIgPSAoc2VuZGVyX3BzaWQpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gdGVtcGxhdGVNZXNzYWdlLnNlbmRMb29rdXBPcmRlclRlbXBsYXRlKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKHNlbmRlcl9wc2lkLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoXCJkb25lXCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxubGV0IHNob3dIZWFkcGhvbmVzID0gKHNlbmRlcl9wc2lkKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZSA9IHRlbXBsYXRlTWVzc2FnZS5zZW5kSGVhZHBob25lc1RlbXBsYXRlKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKHNlbmRlcl9wc2lkLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoXCJkb25lXCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG5sZXQgc2hvd1RWcyA9IChzZW5kZXJfcHNpZCkgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNvbHZlKFwiZG9uZVwiKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59O1xyXG5cclxubGV0IHNob3dQbGF5c3RhdGlvbiA9IChzZW5kZXJfcHNpZCkgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNvbHZlKFwiZG9uZVwiKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59O1xyXG5cclxubGV0IGJhY2tUb0NhdGVnb3JpZXMgPSAoc2VuZGVyX3BzaWQpID0+IHtcclxuICAgIHNlbmRDYXRlZ29yaWVzKHNlbmRlcl9wc2lkKVxyXG59O1xyXG5cclxubGV0IGJhY2tUb01haW5NZW51ID0gKHNlbmRlcl9wc2lkKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZSA9IHRlbXBsYXRlTWVzc2FnZS5iYWNrVG9NYWluTWVudVRlbXBsYXRlKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKHNlbmRlcl9wc2lkLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoXCJkb25lXCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxubGV0IHRha2VDb250cm9sQ29udmVyc2F0aW9uID0gKHNlbmRlcl9wc2lkKSA9PntcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBtZXNzYWdlIGJvZHlcclxuICAgICAgICAgICAgbGV0IHJlcXVlc3RfYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIFwicmVjaXBpZW50XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IHNlbmRlcl9wc2lkXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJtZXRhZGF0YVwiOiBcIlBhc3MgdGhpcyBjb252ZXJzYXRpb24gZnJvbSBwYWdlIGluYm94IHRvIHRoZSBib3QgLSBwcmltYXJ5IGFwcFwiXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBTZW5kIHRoZSBIVFRQIHJlcXVlc3QgdG8gdGhlIE1lc3NlbmdlciBQbGF0Zm9ybVxyXG4gICAgICAgICAgICByZXF1ZXN0KHtcclxuICAgICAgICAgICAgICAgIFwidXJpXCI6IFwiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjYuMC9tZS90YWtlX3RocmVhZF9jb250cm9sXCIsXHJcbiAgICAgICAgICAgICAgICBcInFzXCI6IHsgXCJhY2Nlc3NfdG9rZW5cIjogUEFHRV9BQ0NFU1NfVE9LRU4gfSxcclxuICAgICAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgXCJqc29uXCI6IHJlcXVlc3RfYm9keVxyXG4gICAgICAgICAgICB9LCBhc3luYyAoZXJyLCByZXMsIGJvZHkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZW5kIG1lc3NhZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2Uoc2VuZGVyX3BzaWQsIHtcInRleHRcIjogXCJUaGUgc3VwZXIgYm90IGNhbWUgYmFjayAhISFcIn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGJhY2tUb01haW5NZW51KHNlbmRlcl9wc2lkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdtZXNzYWdlIHNlbnQhJylcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiVW5hYmxlIHRvIHNlbmQgbWVzc2FnZTpcIiArIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZW5kTWVzc2FnZTogc2VuZE1lc3NhZ2UsXHJcbiAgICBzZW5kTWVzc2FnZVdlbGNvbWVOZXdVc2VyOiBzZW5kTWVzc2FnZVdlbGNvbWVOZXdVc2VyLFxyXG4gICAgc2VuZENhdGVnb3JpZXM6IHNlbmRDYXRlZ29yaWVzLFxyXG4gICAgc2VuZExvb2t1cE9yZGVyOiBzZW5kTG9va3VwT3JkZXIsXHJcbiAgICByZXF1ZXN0VGFsa1RvQWdlbnQ6IHJlcXVlc3RUYWxrVG9BZ2VudCxcclxuICAgIHNob3dIZWFkcGhvbmVzOiBzaG93SGVhZHBob25lcyxcclxuICAgIHNob3dUVnM6IHNob3dUVnMsXHJcbiAgICBzaG93UGxheXN0YXRpb246IHNob3dQbGF5c3RhdGlvbixcclxuICAgIGJhY2tUb0NhdGVnb3JpZXM6IGJhY2tUb0NhdGVnb3JpZXMsXHJcbiAgICBiYWNrVG9NYWluTWVudTogYmFja1RvTWFpbk1lbnUsXHJcbiAgICBwYXNzVGhyZWFkQ29udHJvbDogcGFzc1RocmVhZENvbnRyb2wsXHJcbiAgICB0YWtlQ29udHJvbENvbnZlcnNhdGlvbjogdGFrZUNvbnRyb2xDb252ZXJzYXRpb25cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7K0NBRkEsb0o7Ozs7OztBQURBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFLQSxJQUFNQyxpQkFBaUIsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLGlCQUF0QztBQUNBLElBQU1HLHFCQUFxQixHQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUMscUJBQTFDO0FBQ0EsSUFBTUMsbUJBQW1CLEdBQUdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxlQUF4Qzs7QUFFQSxJQUFJQyx5QkFBeUIsR0FBRyxTQUE1QkEseUJBQTRCLENBQUNDLFdBQUQsRUFBaUI7RUFDN0MsT0FBTyxJQUFJQyxPQUFKO0lBQUEsc0VBQVksaUJBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO01BQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2NBQUE7Y0FBQSxPQUVVQywyQkFBQSxDQUFnQkMsbUJBQWhCLENBQW9DTCxXQUFwQyxDQUZWOztZQUFBO2NBRVBNLFFBRk87Y0FHWDtjQUNJQyxTQUpPLEdBSUs7Z0JBQ1oscUJBQWNELFFBQWQ7Y0FEWSxDQUpMLEVBUVg7O2NBQ0lFLFNBVE8sR0FTSztnQkFDWixjQUFjO2tCQUNWLFFBQVEsT0FERTtrQkFFVixXQUFXO29CQUNQLE9BQU87a0JBREE7Z0JBRkQ7Y0FERixDQVRMO2NBa0JQQyxTQWxCTyxHQWtCSztnQkFDWixRQUFRO2NBREksQ0FsQkwsRUFzQlg7O2NBQ0lDLFNBdkJPLEdBdUJLO2dCQUNaLFFBQVEsa0NBREk7Z0JBRVosaUJBQWlCLENBQ2I7a0JBQ0ksZ0JBQWdCLE1BRHBCO2tCQUVJLFNBQVMsWUFGYjtrQkFHSSxXQUFXO2dCQUhmLENBRGEsRUFNYjtrQkFDSSxnQkFBZ0IsTUFEcEI7a0JBRUksU0FBUyxjQUZiO2tCQUdJLFdBQVc7Z0JBSGYsQ0FOYSxFQVdiO2tCQUNJLGdCQUFnQixNQURwQjtrQkFFSSxTQUFTLGtCQUZiO2tCQUdJLFdBQVc7Z0JBSGYsQ0FYYTtjQUZMLENBdkJMO2NBQUE7Y0FBQSxPQTRDTEMsV0FBVyxDQUFDWCxXQUFELEVBQWNPLFNBQWQsQ0E1Q047O1lBQUE7Y0FBQTtjQUFBLE9BNkNMSSxXQUFXLENBQUNYLFdBQUQsRUFBY1EsU0FBZCxDQTdDTjs7WUFBQTtjQUFBO2NBQUEsT0E4Q0xHLFdBQVcsQ0FBQ1gsV0FBRCxFQUFjUyxTQUFkLENBOUNOOztZQUFBO2NBQUE7Y0FBQSxPQStDTEUsV0FBVyxDQUFDWCxXQUFELEVBQWNVLFNBQWQsQ0EvQ047O1lBQUE7Y0FnRFhSLE9BQU8sQ0FBQyxNQUFELENBQVA7Y0FoRFc7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FrRFhDLE1BQU0sYUFBTjs7WUFsRFc7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUEsQ0FBWjs7SUFBQTtNQUFBO0lBQUE7RUFBQSxJQUFQO0FBcURILENBdEREOztBQXdEQSxJQUFJUSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDWCxXQUFELEVBQWNZLFFBQWQsRUFBMkI7RUFDekNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVosRUFBNkJkLFdBQTdCLEVBQTBDWSxRQUExQztFQUNBLE9BQU8sSUFBSVgsT0FBSjtJQUFBLHVFQUFZLGtCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUFBO2NBQUEsT0FFTEMsMkJBQUEsQ0FBZ0JXLGVBQWhCLENBQWdDZixXQUFoQyxDQUZLOztZQUFBO2NBQUE7Y0FBQSxPQUdMSSwyQkFBQSxDQUFnQlksWUFBaEIsQ0FBNkJoQixXQUE3QixDQUhLOztZQUFBO2NBSVg7Y0FDSWlCLFlBTE8sR0FLUTtnQkFDZixhQUFhO2tCQUNULE1BQU1qQjtnQkFERyxDQURFO2dCQUlmLFdBQVdZO2NBSkksQ0FMUixFQVlYOztjQUNBLElBQUFNLG1CQUFBLEVBQVE7Z0JBQ0osT0FBTyw2Q0FESDtnQkFFSixNQUFNO2tCQUFFLGdCQUFnQnpCO2dCQUFsQixDQUZGO2dCQUdKLFVBQVUsTUFITjtnQkFJSixRQUFRd0I7Y0FKSixDQUFSLEVBS0csVUFBQ0UsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7Z0JBQ25CLElBQUksQ0FBQ0YsR0FBTCxFQUFVO2tCQUNOakIsT0FBTyxDQUFDLGVBQUQsQ0FBUDtnQkFDSCxDQUZELE1BRU87a0JBQ0hDLE1BQU0sQ0FBQyw0QkFBNEJnQixHQUE3QixDQUFOO2dCQUNIO2NBQ0osQ0FYRDtjQWJXO2NBQUE7O1lBQUE7Y0FBQTtjQUFBO2NBMEJYaEIsTUFBTSxjQUFOOztZQTFCVztZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQSxDQUFaOztJQUFBO01BQUE7SUFBQTtFQUFBLElBQVA7QUE2QkgsQ0EvQkQ7O0FBaUNBLElBQUltQixrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQXFCLENBQUN0QixXQUFELEVBQWlCO0VBQ3RDLE9BQU8sSUFBSUMsT0FBSjtJQUFBLHVFQUFZLGtCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUVYO2NBQ0lJLFNBSE8sR0FHSztnQkFDWixRQUFRO2NBREksQ0FITDtjQUFBO2NBQUEsT0FPTEksV0FBVyxDQUFDWCxXQUFELEVBQWNPLFNBQWQsQ0FQTjs7WUFBQTtjQVNYO2NBQ0lnQixHQVZPLEdBVUQsWUFWQztjQUFBO2NBQUEsT0FXTEMsaUJBQWlCLENBQUN4QixXQUFELEVBQWN1QixHQUFkLENBWFo7O1lBQUE7Y0FZWHJCLE9BQU8sQ0FBQyxNQUFELENBQVA7Y0FaVztjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQWNYQyxNQUFNLGNBQU47O1lBZFc7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUEsQ0FBWjs7SUFBQTtNQUFBO0lBQUE7RUFBQSxJQUFQO0FBaUJILENBbEJEOztBQW9CQSxJQUFJcUIsaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFvQixDQUFDeEIsV0FBRCxFQUFjdUIsR0FBZCxFQUFzQjtFQUMxQyxPQUFPLElBQUl0QixPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0lBQ3BDLElBQUk7TUFDQSxJQUFJc0IsYUFBYSxHQUFHLEVBQXBCO01BQ0EsSUFBSUMsUUFBUSxHQUFHLEVBQWY7O01BRUEsSUFBR0gsR0FBRyxLQUFLLFlBQVgsRUFBd0I7UUFDcEJFLGFBQWEsR0FBRzdCLHFCQUFoQjtRQUNBOEIsUUFBUSxHQUFHLG1DQUFYO01BQ0g7O01BQ0QsSUFBR0gsR0FBRyxLQUFLLFNBQVgsRUFBcUI7UUFDakJFLGFBQWEsR0FBRzVCLG1CQUFoQjtRQUNBNkIsUUFBUSxHQUFHLDZDQUFYO01BQ0gsQ0FYRCxDQVlBOzs7TUFDQSxJQUFJVCxZQUFZLEdBQUc7UUFDZixhQUFhO1VBQ1QsTUFBTWpCO1FBREcsQ0FERTtRQUlmLGlCQUFpQnlCLGFBSkY7UUFLZixZQUFZQztNQUxHLENBQW5CLENBYkEsQ0FxQkE7O01BQ0EsSUFBQVIsbUJBQUEsRUFBUTtRQUNKLE9BQU8sd0RBREg7UUFFSixNQUFNO1VBQUUsZ0JBQWdCekI7UUFBbEIsQ0FGRjtRQUdKLFVBQVUsTUFITjtRQUlKLFFBQVF3QjtNQUpKLENBQVIsRUFLRyxVQUFDRSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtRQUNuQlIsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQVo7O1FBQ0EsSUFBSSxDQUFDRixHQUFMLEVBQVU7VUFDTmpCLE9BQU8sQ0FBQyxlQUFELENBQVA7UUFDSCxDQUZELE1BRU87VUFDSEMsTUFBTSxDQUFDLDRCQUE0QmdCLEdBQTdCLENBQU47UUFDSDtNQUNKLENBWkQ7SUFhSCxDQW5DRCxDQW1DRSxPQUFPUSxDQUFQLEVBQVU7TUFDUnhCLE1BQU0sQ0FBQ3dCLENBQUQsQ0FBTjtJQUNIO0VBQ0osQ0F2Q00sQ0FBUDtBQXdDSCxDQXpDRDs7QUEyQ0EsSUFBSUMsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDNUIsV0FBRCxFQUFpQjtFQUNsQyxPQUFPLElBQUlDLE9BQUo7SUFBQSx1RUFBWSxrQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FFWDtjQUNJUyxRQUhPLEdBR0lpQiwyQkFBQSxDQUFnQkMsc0JBQWhCLEVBSEo7Y0FBQTtjQUFBLE9BSUxuQixXQUFXLENBQUNYLFdBQUQsRUFBY1ksUUFBZCxDQUpOOztZQUFBO2NBS1hWLE9BQU8sQ0FBQyxNQUFELENBQVA7Y0FMVztjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQU9YQyxNQUFNLGNBQU47O1lBUFc7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUEsQ0FBWjs7SUFBQTtNQUFBO0lBQUE7RUFBQSxJQUFQO0FBVUgsQ0FYRDs7QUFhQSxJQUFJNEIsZUFBZSxHQUFHLFNBQWxCQSxlQUFrQixDQUFDL0IsV0FBRCxFQUFpQjtFQUNuQyxPQUFPLElBQUlDLE9BQUo7SUFBQSx1RUFBWSxrQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FFUFMsUUFGTyxHQUVJaUIsMkJBQUEsQ0FBZ0JHLHVCQUFoQixFQUZKO2NBQUE7Y0FBQSxPQUdMckIsV0FBVyxDQUFDWCxXQUFELEVBQWNZLFFBQWQsQ0FITjs7WUFBQTtjQUlYVixPQUFPLENBQUMsTUFBRCxDQUFQO2NBSlc7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FNWEMsTUFBTSxjQUFOOztZQU5XO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBLENBQVo7O0lBQUE7TUFBQTtJQUFBO0VBQUEsSUFBUDtBQVNILENBVkQ7O0FBWUEsSUFBSThCLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsQ0FBQ2pDLFdBQUQsRUFBaUI7RUFDbEMsT0FBTyxJQUFJQyxPQUFKO0lBQUEsdUVBQVksa0JBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO01BQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2NBRVBTLFFBRk8sR0FFSWlCLDJCQUFBLENBQWdCSyxzQkFBaEIsRUFGSjtjQUFBO2NBQUEsT0FHTHZCLFdBQVcsQ0FBQ1gsV0FBRCxFQUFjWSxRQUFkLENBSE47O1lBQUE7Y0FJWFYsT0FBTyxDQUFDLE1BQUQsQ0FBUDtjQUpXO2NBQUE7O1lBQUE7Y0FBQTtjQUFBO2NBTVhDLE1BQU0sY0FBTjs7WUFOVztZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQSxDQUFaOztJQUFBO01BQUE7SUFBQTtFQUFBLElBQVA7QUFTSCxDQVZEOztBQVlBLElBQUlnQyxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFDbkMsV0FBRCxFQUFpQjtFQUMzQixPQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7SUFDcEMsSUFBSTtNQUNBRCxPQUFPLENBQUMsTUFBRCxDQUFQO0lBQ0gsQ0FGRCxDQUVFLE9BQU95QixDQUFQLEVBQVU7TUFDUnhCLE1BQU0sQ0FBQ3dCLENBQUQsQ0FBTjtJQUNIO0VBQ0osQ0FOTSxDQUFQO0FBT0gsQ0FSRDs7QUFVQSxJQUFJUyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQUNwQyxXQUFELEVBQWlCO0VBQ25DLE9BQU8sSUFBSUMsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtJQUNwQyxJQUFJO01BQ0FELE9BQU8sQ0FBQyxNQUFELENBQVA7SUFDSCxDQUZELENBRUUsT0FBT3lCLENBQVAsRUFBVTtNQUNSeEIsTUFBTSxDQUFDd0IsQ0FBRCxDQUFOO0lBQ0g7RUFDSixDQU5NLENBQVA7QUFPSCxDQVJEOztBQVVBLElBQUlVLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ3JDLFdBQUQsRUFBaUI7RUFDcEM0QixjQUFjLENBQUM1QixXQUFELENBQWQ7QUFDSCxDQUZEOztBQUlBLElBQUlzQyxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUN0QyxXQUFELEVBQWlCO0VBQ2xDLE9BQU8sSUFBSUMsT0FBSjtJQUFBLHVFQUFZLGtCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUVQUyxRQUZPLEdBRUlpQiwyQkFBQSxDQUFnQlUsc0JBQWhCLEVBRko7Y0FBQTtjQUFBLE9BR0w1QixXQUFXLENBQUNYLFdBQUQsRUFBY1ksUUFBZCxDQUhOOztZQUFBO2NBSVhWLE9BQU8sQ0FBQyxNQUFELENBQVA7Y0FKVztjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQU1YQyxNQUFNLGNBQU47O1lBTlc7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUEsQ0FBWjs7SUFBQTtNQUFBO0lBQUE7RUFBQSxJQUFQO0FBU0gsQ0FWRDs7QUFZQSxJQUFJcUMsdUJBQXVCLEdBQUcsU0FBMUJBLHVCQUEwQixDQUFDeEMsV0FBRCxFQUFnQjtFQUMxQyxPQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7SUFDcEMsSUFBSTtNQUNBO01BQ0EsSUFBSWMsWUFBWSxHQUFHO1FBQ2YsYUFBYTtVQUNULE1BQU1qQjtRQURHLENBREU7UUFJZixZQUFZO01BSkcsQ0FBbkIsQ0FGQSxDQVNBOztNQUNBLElBQUFrQixtQkFBQSxFQUFRO1FBQ0osT0FBTyx3REFESDtRQUVKLE1BQU07VUFBRSxnQkFBZ0J6QjtRQUFsQixDQUZGO1FBR0osVUFBVSxNQUhOO1FBSUosUUFBUXdCO01BSkosQ0FBUjtRQUFBLHVFQUtHLGtCQUFPRSxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLElBQ01GLEdBRE47b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBO2tCQUFBLE9BR1dSLFdBQVcsQ0FBQ1gsV0FBRCxFQUFjO29CQUFDLFFBQVE7a0JBQVQsQ0FBZCxDQUh0Qjs7Z0JBQUE7a0JBQUE7a0JBQUEsT0FJV3NDLGNBQWMsQ0FBQ3RDLFdBQUQsQ0FKekI7O2dCQUFBO2tCQUtLRSxPQUFPLENBQUMsZUFBRCxDQUFQO2tCQUxMO2tCQUFBOztnQkFBQTtrQkFPS0MsTUFBTSxDQUFDLDRCQUE0QmdCLEdBQTdCLENBQU47O2dCQVBMO2dCQUFBO2tCQUFBO2NBQUE7WUFBQTtVQUFBO1FBQUEsQ0FMSDs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQWVILENBekJELENBeUJFLE9BQU9RLENBQVAsRUFBVTtNQUNSeEIsTUFBTSxDQUFDd0IsQ0FBRCxDQUFOO0lBQ0g7RUFDSixDQTdCTSxDQUFQO0FBOEJILENBL0JEOztBQWlDQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2IvQixXQUFXLEVBQUVBLFdBREE7RUFFYloseUJBQXlCLEVBQUVBLHlCQUZkO0VBR2I2QixjQUFjLEVBQUVBLGNBSEg7RUFJYkcsZUFBZSxFQUFFQSxlQUpKO0VBS2JULGtCQUFrQixFQUFFQSxrQkFMUDtFQU1iVyxjQUFjLEVBQUVBLGNBTkg7RUFPYkUsT0FBTyxFQUFFQSxPQVBJO0VBUWJDLGVBQWUsRUFBRUEsZUFSSjtFQVNiQyxnQkFBZ0IsRUFBRUEsZ0JBVEw7RUFVYkMsY0FBYyxFQUFFQSxjQVZIO0VBV2JkLGlCQUFpQixFQUFFQSxpQkFYTjtFQVliZ0IsdUJBQXVCLEVBQUVBO0FBWlosQ0FBakIifQ==","map":{"version":3,"names":["require","config","PAGE_ACCESS_TOKEN","process","env","SECONDARY_RECEIVER_ID","PRIMARY_RECEIVER_ID","FACEBOOK_APP_ID","sendMessageWelcomeNewUser","sender_psid","Promise","resolve","reject","homepageService","getFacebookUsername","username","response1","response2","response3","response4","sendMessage","response","console","log","markMessageRead","sendTypingOn","request_body","request","err","res","body","requestTalkToAgent","app","passThreadControl","target_app_id","metadata","e","sendCategories","templateMessage","sendCategoriesTemplate","sendLookupOrder","sendLookupOrderTemplate","showHeadphones","sendHeadphonesTemplate","showTVs","showPlaystation","backToCategories","backToMainMenu","backToMainMenuTemplate","takeControlConversation","module","exports"],"sourceRoot":"D:\\Work\\Individual\\fb-chat-bot\\src\\services\\","sources":["chatbotService.js"],"sourcesContent":["require(\"dotenv\").config();\r\nimport request from \"request\";\r\nimport homepageService from \"./homepageService\";\r\nimport templateMessage from \"./templateMessage\";\r\n\r\nconst PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\r\nconst SECONDARY_RECEIVER_ID = process.env.SECONDARY_RECEIVER_ID;\r\nconst PRIMARY_RECEIVER_ID = process.env.FACEBOOK_APP_ID;\r\n\r\nlet sendMessageWelcomeNewUser = (sender_psid) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            let username = await homepageService.getFacebookUsername(sender_psid);\r\n            //send text message\r\n            let response1 = {\r\n                \"text\": `Hi ${username}! Welcome to Tech Shop Haryphamdev, where you will find what you need.`\r\n            };\r\n\r\n            //send an image\r\n            let response2 = {\r\n                \"attachment\": {\r\n                    \"type\": \"image\",\r\n                    \"payload\": {\r\n                        \"url\": \"https://bit.ly/imageWelcome\"\r\n                    }\r\n                }\r\n            };\r\n\r\n            let response3 = {\r\n                \"text\": \"At any time, use the menu below to navigate through the features.\"\r\n            };\r\n\r\n            //send a quick reply\r\n            let response4 = {\r\n                \"text\": \"What can I do to help you today?\",\r\n                \"quick_replies\": [\r\n                    {\r\n                        \"content_type\": \"text\",\r\n                        \"title\": \"Categories\",\r\n                        \"payload\": \"CATEGORIES\",\r\n                    },\r\n                    {\r\n                        \"content_type\": \"text\",\r\n                        \"title\": \"Lookup Order\",\r\n                        \"payload\": \"LOOKUP_ORDER\",\r\n                    },\r\n                    {\r\n                        \"content_type\": \"text\",\r\n                        \"title\": \"Talk to an agent\",\r\n                        \"payload\": \"TALK_AGENT\",\r\n                    },\r\n                ]\r\n            };\r\n\r\n            await sendMessage(sender_psid, response1);\r\n            await sendMessage(sender_psid, response2);\r\n            await sendMessage(sender_psid, response3);\r\n            await sendMessage(sender_psid, response4);\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet sendMessage = (sender_psid, response) => {\r\n    console.log(\"sendMessage->\", sender_psid, response);\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            await homepageService.markMessageRead(sender_psid);\r\n            await homepageService.sendTypingOn(sender_psid);\r\n            // Construct the message body\r\n            let request_body = {\r\n                \"recipient\": {\r\n                    \"id\": sender_psid\r\n                },\r\n                \"message\": response\r\n            };\r\n\r\n            // Send the HTTP request to the Messenger Platform\r\n            request({\r\n                \"uri\": \"https://graph.facebook.com/v6.0/me/messages\",\r\n                \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\r\n                \"method\": \"POST\",\r\n                \"json\": request_body\r\n            }, (err, res, body) => {\r\n                if (!err) {\r\n                    resolve('message sent!')\r\n                } else {\r\n                    reject(\"Unable to send message:\" + err);\r\n                }\r\n            });\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet requestTalkToAgent = (sender_psid) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            //send a text message\r\n            let response1 = {\r\n                \"text\": \"Ok. Someone real will be with you in a few minutes ^^\"\r\n            };\r\n\r\n            await sendMessage(sender_psid, response1);\r\n\r\n            //change this conversation to page inbox\r\n            let app = \"page_inbox\"\r\n            await passThreadControl(sender_psid, app);\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet passThreadControl = (sender_psid, app) => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            let target_app_id = \"\";\r\n            let metadata = \"\";\r\n\r\n            if(app === \"page_inbox\"){\r\n                target_app_id = SECONDARY_RECEIVER_ID;\r\n                metadata = \"Pass thread control to inbox chat\";\r\n            }\r\n            if(app === \"primary\"){\r\n                target_app_id = PRIMARY_RECEIVER_ID;\r\n                metadata = \"Pass thread control to the bot, primary app\";\r\n            }\r\n            // Construct the message body\r\n            let request_body = {\r\n                \"recipient\": {\r\n                    \"id\": sender_psid\r\n                },\r\n                \"target_app_id\": target_app_id,\r\n                \"metadata\": metadata\r\n            };\r\n\r\n            // Send the HTTP request to the Messenger Platform\r\n            request({\r\n                \"uri\": \"https://graph.facebook.com/v6.0/me/pass_thread_control\",\r\n                \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\r\n                \"method\": \"POST\",\r\n                \"json\": request_body\r\n            }, (err, res, body) => {\r\n                console.log(body)\r\n                if (!err) {\r\n                    resolve('message sent!')\r\n                } else {\r\n                    reject(\"Unable to send message:\" + err);\r\n                }\r\n            });\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet sendCategories = (sender_psid) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            //send a generic template message\r\n            let response = templateMessage.sendCategoriesTemplate();\r\n            await sendMessage(sender_psid, response);\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet sendLookupOrder = (sender_psid) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            let response = templateMessage.sendLookupOrderTemplate();\r\n            await sendMessage(sender_psid, response);\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet showHeadphones = (sender_psid) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            let response = templateMessage.sendHeadphonesTemplate();\r\n            await sendMessage(sender_psid, response);\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    })\r\n};\r\n\r\nlet showTVs = (sender_psid) => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    })\r\n};\r\n\r\nlet showPlaystation = (sender_psid) => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    })\r\n};\r\n\r\nlet backToCategories = (sender_psid) => {\r\n    sendCategories(sender_psid)\r\n};\r\n\r\nlet backToMainMenu = (sender_psid) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            let response = templateMessage.backToMainMenuTemplate();\r\n            await sendMessage(sender_psid, response);\r\n            resolve(\"done\");\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nlet takeControlConversation = (sender_psid) =>{\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            // Construct the message body\r\n            let request_body = {\r\n                \"recipient\": {\r\n                    \"id\": sender_psid\r\n                },\r\n                \"metadata\": \"Pass this conversation from page inbox to the bot - primary app\"\r\n            };\r\n\r\n            // Send the HTTP request to the Messenger Platform\r\n            request({\r\n                \"uri\": \"https://graph.facebook.com/v6.0/me/take_thread_control\",\r\n                \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\r\n                \"method\": \"POST\",\r\n                \"json\": request_body\r\n            }, async (err, res, body) => {\r\n                if (!err) {\r\n                    //send messages\r\n                    await sendMessage(sender_psid, {\"text\": \"The super bot came back !!!\"});\r\n                    await backToMainMenu(sender_psid);\r\n                    resolve('message sent!')\r\n                } else {\r\n                    reject(\"Unable to send message:\" + err);\r\n                }\r\n            });\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n};\r\n\r\nmodule.exports = {\r\n    sendMessage: sendMessage,\r\n    sendMessageWelcomeNewUser: sendMessageWelcomeNewUser,\r\n    sendCategories: sendCategories,\r\n    sendLookupOrder: sendLookupOrder,\r\n    requestTalkToAgent: requestTalkToAgent,\r\n    showHeadphones: showHeadphones,\r\n    showTVs: showTVs,\r\n    showPlaystation: showPlaystation,\r\n    backToCategories: backToCategories,\r\n    backToMainMenu: backToMainMenu,\r\n    passThreadControl: passThreadControl,\r\n    takeControlConversation: takeControlConversation\r\n};\r\n"],"mappings":"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"}},"mtime":1663859532536},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"filename\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\\\\src\\\\services\\\\templateMessage.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Work\\\\Individual\\\\fb-chat-bot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.1:development":{"value":{"code":"\"use strict\";\n\nvar sendCategoriesTemplate = function sendCategoriesTemplate() {\n  return {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"generic\",\n        \"elements\": [{\n          \"title\": \"Headphones\",\n          \"image_url\": \"https://bit.ly/imageHeadphones\",\n          \"subtitle\": \"Bose Noise Cancelling Wireless Bluetooth Headphones\",\n          \"default_action\": {\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/webHeadphones\",\n            \"webview_height_ratio\": \"tall\"\n          },\n          \"buttons\": [{\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/webHeadphones\",\n            \"title\": \"View on Website\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Show Headphones\",\n            \"payload\": \"SHOW_HEADPHONES\"\n          }]\n        }, {\n          \"title\": \"TV\",\n          \"image_url\": \"https://bit.ly/imageTV\",\n          \"subtitle\": \"Master of quality & Incredible clarity\",\n          \"default_action\": {\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/webTelevision\",\n            \"webview_height_ratio\": \"tall\"\n          },\n          \"buttons\": [{\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/webTelevision\",\n            \"title\": \"View on Website\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Show TVs\",\n            \"payload\": \"SHOW_TV\"\n          }]\n        }, {\n          \"title\": \"Playstation\",\n          \"image_url\": \"https://bit.ly/imagePlaystation\",\n          \"subtitle\": \"Incredible games & Endless entertainment\",\n          \"default_action\": {\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/webPlaystation\",\n            \"webview_height_ratio\": \"tall\"\n          },\n          \"buttons\": [{\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/webPlaystation\",\n            \"title\": \"View on Website\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Show Playstation\",\n            \"payload\": \"SHOW_PLAYSTATION\"\n          }]\n        }]\n      }\n    }\n  };\n};\n\nvar sendHeadphonesTemplate = function sendHeadphonesTemplate() {\n  return {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"generic\",\n        \"elements\": [{\n          \"title\": \"Sony Noise Cancelling Headphones WH1000XM3\",\n          \"image_url\": \"https://bit.ly/imageHeadphone1a\",\n          \"subtitle\": \"$348.00\",\n          \"default_action\": {\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/viewHeadphone1\",\n            \"webview_height_ratio\": \"tall\"\n          },\n          \"buttons\": [{\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/viewHeadphone1\",\n            \"title\": \"Order now\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Back to categories\",\n            \"payload\": \"BACK_TO_CATEGORIES\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Main menu\",\n            \"payload\": \"BACK_TO_MAIN_MENU\"\n          }]\n        }, {\n          \"title\": \"Sony WI-1000XM2 Industry Leading Noise Canceling Wireless Behind-Neck\",\n          \"image_url\": \"https://bit.ly/imageHeadphone1b\",\n          \"subtitle\": \"$298.00\",\n          \"default_action\": {\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/viewHeadphone2\",\n            \"webview_height_ratio\": \"tall\"\n          },\n          \"buttons\": [{\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/viewHeadphone2\",\n            \"title\": \"Order now\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Back to categories\",\n            \"payload\": \"BACK_TO_CATEGORIES\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Main menu\",\n            \"payload\": \"BACK_TO_MAIN_MENU\"\n          }]\n        }, {\n          \"title\": \"Sony Wireless in-Ear Headset\",\n          \"image_url\": \"https://bit.ly/imageHeadphone1c\",\n          \"subtitle\": \"$38.00\",\n          \"default_action\": {\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/viewHeadphone3\",\n            \"webview_height_ratio\": \"tall\"\n          },\n          \"buttons\": [{\n            \"type\": \"web_url\",\n            \"url\": \"https://bit.ly/viewHeadphone3\",\n            \"title\": \"Order now\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Back to categories\",\n            \"payload\": \"BACK_TO_CATEGORIES\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"Main menu\",\n            \"payload\": \"BACK_TO_MAIN_MENU\"\n          }]\n        }]\n      }\n    }\n  };\n};\n\nvar sendLookupOrderTemplate = function sendLookupOrderTemplate() {\n  return {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"button\",\n        \"text\": \"OK. Let's set info about your order, so I won't need to ask for them in the future.\",\n        \"buttons\": [{\n          \"type\": \"web_url\",\n          \"url\": \"\".concat(process.env.URL_WEB_VIEW_ORDER),\n          \"title\": \"Set info\",\n          \"webview_height_ratio\": \"tall\",\n          \"messenger_extensions\": true //false: open the webview in new tab\n\n        }, {\n          \"type\": \"postback\",\n          \"title\": \"Main menu\",\n          \"payload\": \"BACK_TO_MAIN_MENU\"\n        }]\n      }\n    }\n  };\n};\n\nvar backToMainMenuTemplate = function backToMainMenuTemplate() {\n  return {\n    \"text\": \"What can I do to help you today?\",\n    \"quick_replies\": [{\n      \"content_type\": \"text\",\n      \"title\": \"Categories\",\n      \"payload\": \"CATEGORIES\"\n    }, {\n      \"content_type\": \"text\",\n      \"title\": \"Lookup Order\",\n      \"payload\": \"LOOKUP_ORDER\"\n    }, {\n      \"content_type\": \"text\",\n      \"title\": \"Talk to an agent\",\n      \"payload\": \"TALK_AGENT\"\n    }]\n  };\n};\n\nvar setInfoOrderTemplate = function setInfoOrderTemplate() {\n  return {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"button\",\n        \"text\": \"We're checking your order. We will send you a message when the process is complete.\" + \"\\nThank you!\",\n        \"buttons\": [{\n          \"type\": \"postback\",\n          \"title\": \"Main menu\",\n          \"payload\": \"BACK_TO_MAIN_MENU\"\n        }]\n      }\n    }\n  };\n};\n\nmodule.exports = {\n  sendCategoriesTemplate: sendCategoriesTemplate,\n  sendHeadphonesTemplate: sendHeadphonesTemplate,\n  sendLookupOrderTemplate: sendLookupOrderTemplate,\n  backToMainMenuTemplate: backToMainMenuTemplate,\n  setInfoOrderTemplate: setInfoOrderTemplate\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kQ2F0ZWdvcmllc1RlbXBsYXRlIiwic2VuZEhlYWRwaG9uZXNUZW1wbGF0ZSIsInNlbmRMb29rdXBPcmRlclRlbXBsYXRlIiwicHJvY2VzcyIsImVudiIsIlVSTF9XRUJfVklFV19PUkRFUiIsImJhY2tUb01haW5NZW51VGVtcGxhdGUiLCJzZXRJbmZvT3JkZXJUZW1wbGF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxXb3JrXFxJbmRpdmlkdWFsXFxmYi1jaGF0LWJvdFxcc3JjXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0ZW1wbGF0ZU1lc3NhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IHNlbmRDYXRlZ29yaWVzVGVtcGxhdGUgPSAoKSA9PntcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgXCJhdHRhY2htZW50XCI6IHtcclxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidGVtcGxhdGVcIixcclxuICAgICAgICAgICAgXCJwYXlsb2FkXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVfdHlwZVwiOiBcImdlbmVyaWNcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudHNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkhlYWRwaG9uZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZV91cmxcIjogXCJodHRwczovL2JpdC5seS9pbWFnZUhlYWRwaG9uZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIkJvc2UgTm9pc2UgQ2FuY2VsbGluZyBXaXJlbGVzcyBCbHVldG9vdGggSGVhZHBob25lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHRfYWN0aW9uXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIndlYl91cmxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvd2ViSGVhZHBob25lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcInRhbGxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25zXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL2JpdC5seS93ZWJIZWFkcGhvbmVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlZpZXcgb24gV2Vic2l0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlNob3cgSGVhZHBob25lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIlNIT1dfSEVBRFBIT05FU1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlRWXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvaW1hZ2VUVlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1YnRpdGxlXCI6IFwiTWFzdGVyIG9mIHF1YWxpdHkgJiBJbmNyZWRpYmxlIGNsYXJpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0X2FjdGlvblwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vYml0Lmx5L3dlYlRlbGV2aXNpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vidmlld19oZWlnaHRfcmF0aW9cIjogXCJ0YWxsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwid2ViX3VybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvd2ViVGVsZXZpc2lvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJWaWV3IG9uIFdlYnNpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlNob3cgVFZzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiU0hPV19UVlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlBsYXlzdGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvaW1hZ2VQbGF5c3RhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1YnRpdGxlXCI6IFwiSW5jcmVkaWJsZSBnYW1lcyAmIEVuZGxlc3MgZW50ZXJ0YWlubWVudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHRfYWN0aW9uXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIndlYl91cmxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvd2ViUGxheXN0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vidmlld19oZWlnaHRfcmF0aW9cIjogXCJ0YWxsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwid2ViX3VybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvd2ViUGxheXN0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiVmlldyBvbiBXZWJzaXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJTaG93IFBsYXlzdGF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiU0hPV19QTEFZU1RBVElPTlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuXHJcbmxldCBzZW5kSGVhZHBob25lc1RlbXBsYXRlID0gKCkgPT57XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIFwiYXR0YWNobWVudFwiOiB7XHJcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInRlbXBsYXRlXCIsXHJcbiAgICAgICAgICAgIFwicGF5bG9hZFwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInRlbXBsYXRlX3R5cGVcIjogXCJnZW5lcmljXCIsXHJcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJTb255IE5vaXNlIENhbmNlbGxpbmcgSGVhZHBob25lcyBXSDEwMDBYTTNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZV91cmxcIjogXCJodHRwczovL2JpdC5seS9pbWFnZUhlYWRwaG9uZTFhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VidGl0bGVcIjogXCIkMzQ4LjAwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVmYXVsdF9hY3Rpb25cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwid2ViX3VybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL2JpdC5seS92aWV3SGVhZHBob25lMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcInRhbGxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25zXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL2JpdC5seS92aWV3SGVhZHBob25lMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJPcmRlciBub3dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJCYWNrIHRvIGNhdGVnb3JpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJCQUNLX1RPX0NBVEVHT1JJRVNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJNYWluIG1lbnVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJCQUNLX1RPX01BSU5fTUVOVVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlNvbnkgV0ktMTAwMFhNMiBJbmR1c3RyeSBMZWFkaW5nIE5vaXNlIENhbmNlbGluZyBXaXJlbGVzcyBCZWhpbmQtTmVja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlX3VybFwiOiBcImh0dHBzOi8vYml0Lmx5L2ltYWdlSGVhZHBob25lMWJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIiQyOTguMDBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0X2FjdGlvblwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vYml0Lmx5L3ZpZXdIZWFkcGhvbmUyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndlYnZpZXdfaGVpZ2h0X3JhdGlvXCI6IFwidGFsbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvbnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIndlYl91cmxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vYml0Lmx5L3ZpZXdIZWFkcGhvbmUyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIk9yZGVyIG5vd1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkJhY2sgdG8gY2F0ZWdvcmllc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIkJBQ0tfVE9fQ0FURUdPUklFU1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIk1haW4gbWVudVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIkJBQ0tfVE9fTUFJTl9NRU5VXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiU29ueSBXaXJlbGVzcyBpbi1FYXIgSGVhZHNldFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlX3VybFwiOiBcImh0dHBzOi8vYml0Lmx5L2ltYWdlSGVhZHBob25lMWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIiQzOC4wMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHRfYWN0aW9uXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIndlYl91cmxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvdmlld0hlYWRwaG9uZTNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vidmlld19oZWlnaHRfcmF0aW9cIjogXCJ0YWxsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwid2ViX3VybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9iaXQubHkvdmlld0hlYWRwaG9uZTNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiT3JkZXIgbm93XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicG9zdGJhY2tcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiQmFjayB0byBjYXRlZ29yaWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiQkFDS19UT19DQVRFR09SSUVTXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicG9zdGJhY2tcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTWFpbiBtZW51XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiQkFDS19UT19NQUlOX01FTlVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcblxyXG5sZXQgc2VuZExvb2t1cE9yZGVyVGVtcGxhdGUgPSAoKSA9PntcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgXCJhdHRhY2htZW50XCI6e1xyXG4gICAgICAgICAgICBcInR5cGVcIjpcInRlbXBsYXRlXCIsXHJcbiAgICAgICAgICAgIFwicGF5bG9hZFwiOntcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVfdHlwZVwiOlwiYnV0dG9uXCIsXHJcbiAgICAgICAgICAgICAgICBcInRleHRcIjpcIk9LLiBMZXQncyBzZXQgaW5mbyBhYm91dCB5b3VyIG9yZGVyLCBzbyBJIHdvbid0IG5lZWQgdG8gYXNrIGZvciB0aGVtIGluIHRoZSBmdXR1cmUuXCIsXHJcbiAgICAgICAgICAgICAgICBcImJ1dHRvbnNcIjpbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IGAke3Byb2Nlc3MuZW52LlVSTF9XRUJfVklFV19PUkRFUn1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiU2V0IGluZm9cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcInRhbGxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtZXNzZW5nZXJfZXh0ZW5zaW9uc1wiOiB0cnVlIC8vZmFsc2U6IG9wZW4gdGhlIHdlYnZpZXcgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTWFpbiBtZW51XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIkJBQ0tfVE9fTUFJTl9NRU5VXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxubGV0IGJhY2tUb01haW5NZW51VGVtcGxhdGUgPSAoKT0+e1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBcInRleHRcIjogXCJXaGF0IGNhbiBJIGRvIHRvIGhlbHAgeW91IHRvZGF5P1wiLFxyXG4gICAgICAgIFwicXVpY2tfcmVwbGllc1wiOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiY29udGVudF90eXBlXCI6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkNhdGVnb3JpZXNcIixcclxuICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIkNBVEVHT1JJRVNcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJjb250ZW50X3R5cGVcIjogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTG9va3VwIE9yZGVyXCIsXHJcbiAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJMT09LVVBfT1JERVJcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJjb250ZW50X3R5cGVcIjogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiVGFsayB0byBhbiBhZ2VudFwiLFxyXG4gICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiVEFMS19BR0VOVFwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF1cclxuICAgIH07XHJcbn07XHJcblxyXG5sZXQgc2V0SW5mb09yZGVyVGVtcGxhdGUgPSAoKT0+e1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBcImF0dGFjaG1lbnRcIjp7XHJcbiAgICAgICAgICAgIFwidHlwZVwiOlwidGVtcGxhdGVcIixcclxuICAgICAgICAgICAgXCJwYXlsb2FkXCI6e1xyXG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZV90eXBlXCI6XCJidXR0b25cIixcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiOlwiV2UncmUgY2hlY2tpbmcgeW91ciBvcmRlci4gV2Ugd2lsbCBzZW5kIHlvdSBhIG1lc3NhZ2Ugd2hlbiB0aGUgcHJvY2VzcyBpcyBjb21wbGV0ZS5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJcXG5UaGFuayB5b3UhXCIsXHJcbiAgICAgICAgICAgICAgICBcImJ1dHRvbnNcIjpbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTWFpbiBtZW51XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIkJBQ0tfVE9fTUFJTl9NRU5VXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzZW5kQ2F0ZWdvcmllc1RlbXBsYXRlOiBzZW5kQ2F0ZWdvcmllc1RlbXBsYXRlLFxyXG4gICAgc2VuZEhlYWRwaG9uZXNUZW1wbGF0ZTogc2VuZEhlYWRwaG9uZXNUZW1wbGF0ZSxcclxuICAgIHNlbmRMb29rdXBPcmRlclRlbXBsYXRlOiBzZW5kTG9va3VwT3JkZXJUZW1wbGF0ZSxcclxuICAgIGJhY2tUb01haW5NZW51VGVtcGxhdGU6IGJhY2tUb01haW5NZW51VGVtcGxhdGUsXHJcbiAgICBzZXRJbmZvT3JkZXJUZW1wbGF0ZTogc2V0SW5mb09yZGVyVGVtcGxhdGVcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLHNCQUFzQixHQUFHLFNBQXpCQSxzQkFBeUIsR0FBSztFQUM5QixPQUFPO0lBQ0gsY0FBYztNQUNWLFFBQVEsVUFERTtNQUVWLFdBQVc7UUFDUCxpQkFBaUIsU0FEVjtRQUVQLFlBQVksQ0FDUjtVQUNJLFNBQVMsWUFEYjtVQUVJLGFBQWEsZ0NBRmpCO1VBR0ksWUFBWSxxREFIaEI7VUFJSSxrQkFBa0I7WUFDZCxRQUFRLFNBRE07WUFFZCxPQUFPLDhCQUZPO1lBR2Qsd0JBQXdCO1VBSFYsQ0FKdEI7VUFTSSxXQUFXLENBQ1A7WUFDSSxRQUFRLFNBRFo7WUFFSSxPQUFPLDhCQUZYO1lBR0ksU0FBUztVQUhiLENBRE8sRUFNUDtZQUNJLFFBQVEsVUFEWjtZQUVJLFNBQVMsaUJBRmI7WUFHSSxXQUFXO1VBSGYsQ0FOTztRQVRmLENBRFEsRUF1QlI7VUFDSSxTQUFTLElBRGI7VUFFSSxhQUFhLHdCQUZqQjtVQUdJLFlBQVksd0NBSGhCO1VBSUksa0JBQWtCO1lBQ2QsUUFBUSxTQURNO1lBRWQs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","map":{"version":3,"names":["sendCategoriesTemplate","sendHeadphonesTemplate","sendLookupOrderTemplate","process","env","URL_WEB_VIEW_ORDER","backToMainMenuTemplate","setInfoOrderTemplate","module","exports"],"sourceRoot":"D:\\Work\\Individual\\fb-chat-bot\\src\\services\\","sources":["templateMessage.js"],"sourcesContent":["let sendCategoriesTemplate = () =>{\r\n    return {\r\n        \"attachment\": {\r\n            \"type\": \"template\",\r\n            \"payload\": {\r\n                \"template_type\": \"generic\",\r\n                \"elements\": [\r\n                    {\r\n                        \"title\": \"Headphones\",\r\n                        \"image_url\": \"https://bit.ly/imageHeadphones\",\r\n                        \"subtitle\": \"Bose Noise Cancelling Wireless Bluetooth Headphones\",\r\n                        \"default_action\": {\r\n                            \"type\": \"web_url\",\r\n                            \"url\": \"https://bit.ly/webHeadphones\",\r\n                            \"webview_height_ratio\": \"tall\",\r\n                        },\r\n                        \"buttons\": [\r\n                            {\r\n                                \"type\": \"web_url\",\r\n                                \"url\": \"https://bit.ly/webHeadphones\",\r\n                                \"title\": \"View on Website\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Show Headphones\",\r\n                                \"payload\": \"SHOW_HEADPHONES\"\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"title\": \"TV\",\r\n                        \"image_url\": \"https://bit.ly/imageTV\",\r\n                        \"subtitle\": \"Master of quality & Incredible clarity\",\r\n                        \"default_action\": {\r\n                            \"type\": \"web_url\",\r\n                            \"url\": \"https://bit.ly/webTelevision\",\r\n                            \"webview_height_ratio\": \"tall\",\r\n                        },\r\n                        \"buttons\": [\r\n                            {\r\n                                \"type\": \"web_url\",\r\n                                \"url\": \"https://bit.ly/webTelevision\",\r\n                                \"title\": \"View on Website\"\r\n                            }, {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Show TVs\",\r\n                                \"payload\": \"SHOW_TV\"\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"title\": \"Playstation\",\r\n                        \"image_url\": \"https://bit.ly/imagePlaystation\",\r\n                        \"subtitle\": \"Incredible games & Endless entertainment\",\r\n                        \"default_action\": {\r\n                            \"type\": \"web_url\",\r\n                            \"url\": \"https://bit.ly/webPlaystation\",\r\n                            \"webview_height_ratio\": \"tall\",\r\n                        },\r\n                        \"buttons\": [\r\n                            {\r\n                                \"type\": \"web_url\",\r\n                                \"url\": \"https://bit.ly/webPlaystation\",\r\n                                \"title\": \"View on Website\"\r\n                            }, {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Show Playstation\",\r\n                                \"payload\": \"SHOW_PLAYSTATION\"\r\n                            }\r\n                        ]\r\n                    },\r\n                ]\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nlet sendHeadphonesTemplate = () =>{\r\n    return {\r\n        \"attachment\": {\r\n            \"type\": \"template\",\r\n            \"payload\": {\r\n                \"template_type\": \"generic\",\r\n                \"elements\": [\r\n                    {\r\n                        \"title\": \"Sony Noise Cancelling Headphones WH1000XM3\",\r\n                        \"image_url\": \"https://bit.ly/imageHeadphone1a\",\r\n                        \"subtitle\": \"$348.00\",\r\n                        \"default_action\": {\r\n                            \"type\": \"web_url\",\r\n                            \"url\": \"https://bit.ly/viewHeadphone1\",\r\n                            \"webview_height_ratio\": \"tall\",\r\n                        },\r\n                        \"buttons\": [\r\n                            {\r\n                                \"type\": \"web_url\",\r\n                                \"url\": \"https://bit.ly/viewHeadphone1\",\r\n                                \"title\": \"Order now\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Back to categories\",\r\n                                \"payload\": \"BACK_TO_CATEGORIES\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Main menu\",\r\n                                \"payload\": \"BACK_TO_MAIN_MENU\"\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"title\": \"Sony WI-1000XM2 Industry Leading Noise Canceling Wireless Behind-Neck\",\r\n                        \"image_url\": \"https://bit.ly/imageHeadphone1b\",\r\n                        \"subtitle\": \"$298.00\",\r\n                        \"default_action\": {\r\n                            \"type\": \"web_url\",\r\n                            \"url\": \"https://bit.ly/viewHeadphone2\",\r\n                            \"webview_height_ratio\": \"tall\",\r\n                        },\r\n                        \"buttons\": [\r\n                            {\r\n                                \"type\": \"web_url\",\r\n                                \"url\": \"https://bit.ly/viewHeadphone2\",\r\n                                \"title\": \"Order now\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Back to categories\",\r\n                                \"payload\": \"BACK_TO_CATEGORIES\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Main menu\",\r\n                                \"payload\": \"BACK_TO_MAIN_MENU\"\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"title\": \"Sony Wireless in-Ear Headset\",\r\n                        \"image_url\": \"https://bit.ly/imageHeadphone1c\",\r\n                        \"subtitle\": \"$38.00\",\r\n                        \"default_action\": {\r\n                            \"type\": \"web_url\",\r\n                            \"url\": \"https://bit.ly/viewHeadphone3\",\r\n                            \"webview_height_ratio\": \"tall\",\r\n                        },\r\n                        \"buttons\": [\r\n                            {\r\n                                \"type\": \"web_url\",\r\n                                \"url\": \"https://bit.ly/viewHeadphone3\",\r\n                                \"title\": \"Order now\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Back to categories\",\r\n                                \"payload\": \"BACK_TO_CATEGORIES\"\r\n                            },\r\n                            {\r\n                                \"type\": \"postback\",\r\n                                \"title\": \"Main menu\",\r\n                                \"payload\": \"BACK_TO_MAIN_MENU\"\r\n                            }\r\n                        ]\r\n                    },\r\n                ]\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nlet sendLookupOrderTemplate = () =>{\r\n    return {\r\n        \"attachment\":{\r\n            \"type\":\"template\",\r\n            \"payload\":{\r\n                \"template_type\":\"button\",\r\n                \"text\":\"OK. Let's set info about your order, so I won't need to ask for them in the future.\",\r\n                \"buttons\":[\r\n                    {\r\n                        \"type\": \"web_url\",\r\n                        \"url\": `${process.env.URL_WEB_VIEW_ORDER}`,\r\n                        \"title\": \"Set info\",\r\n                        \"webview_height_ratio\": \"tall\",\r\n                        \"messenger_extensions\": true //false: open the webview in new tab\r\n                    },\r\n                    {\r\n                        \"type\": \"postback\",\r\n                        \"title\": \"Main menu\",\r\n                        \"payload\": \"BACK_TO_MAIN_MENU\"\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nlet backToMainMenuTemplate = ()=>{\r\n    return {\r\n        \"text\": \"What can I do to help you today?\",\r\n        \"quick_replies\": [\r\n            {\r\n                \"content_type\": \"text\",\r\n                \"title\": \"Categories\",\r\n                \"payload\": \"CATEGORIES\",\r\n            },\r\n            {\r\n                \"content_type\": \"text\",\r\n                \"title\": \"Lookup Order\",\r\n                \"payload\": \"LOOKUP_ORDER\",\r\n            },\r\n            {\r\n                \"content_type\": \"text\",\r\n                \"title\": \"Talk to an agent\",\r\n                \"payload\": \"TALK_AGENT\",\r\n            },\r\n        ]\r\n    };\r\n};\r\n\r\nlet setInfoOrderTemplate = ()=>{\r\n    return {\r\n        \"attachment\":{\r\n            \"type\":\"template\",\r\n            \"payload\":{\r\n                \"template_type\":\"button\",\r\n                \"text\":\"We're checking your order. We will send you a message when the process is complete.\" +\r\n                    \"\\nThank you!\",\r\n                \"buttons\":[\r\n                    {\r\n                        \"type\": \"postback\",\r\n                        \"title\": \"Main menu\",\r\n                        \"payload\": \"BACK_TO_MAIN_MENU\"\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nmodule.exports = {\r\n    sendCategoriesTemplate: sendCategoriesTemplate,\r\n    sendHeadphonesTemplate: sendHeadphonesTemplate,\r\n    sendLookupOrderTemplate: sendLookupOrderTemplate,\r\n    backToMainMenuTemplate: backToMainMenuTemplate,\r\n    setInfoOrderTemplate: setInfoOrderTemplate\r\n};\r\n"],"mappings":"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"}},"mtime":1663690601784}}